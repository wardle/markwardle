<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.1">Jekyll</generator><link href="https://www.wardle.org/feed.xml" rel="self" type="application/atom+xml" /><link href="https://www.wardle.org/" rel="alternate" type="text/html" /><updated>2017-05-16T15:57:05+01:00</updated><id>https://www.wardle.org/</id><title type="html">Dr. Mark Wardle</title><subtitle>Consultant Neurologist, clinical informatics, entrepreneur and software developer.
</subtitle><entry><title type="html">Google DeepMind Caldicott letter</title><link href="https://www.wardle.org/clinical-informatics/2017/05/10/caldicott.html" rel="alternate" type="text/html" title="Google DeepMind Caldicott letter" /><published>2017-05-10T11:55:00+01:00</published><updated>2017-05-10T11:55:00+01:00</updated><id>https://www.wardle.org/clinical-informatics/2017/05/10/caldicott</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/05/10/caldicott.html">&lt;blockquote&gt;
  &lt;p&gt;Google Deepmind may have received the personally identifying medical records of million NHS patients on a legally inappropriate basis&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;a href=&quot;https://twitter.com/skynewstonight/status/864183833960235014&quot;&gt;Sky News, 15th May 2017&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Taking into account what you have now clarified, it is my view and that of my panel that the purpose for the transfer of 1.6 million identifiable patient records to Google DeepMind was for the testing of the Streams application, and not for the provision of direct care to patients. Given that Streams was going through testing and therefore could not be relied upon for patient care, any role the application might have played in supporting the provision of direct care would have been limited and secondary to the purpose of the data transfer. My considered opinion therefore remains that it would not have been within the reasonable expectation of patients that their records would have been shared for this purpose.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;dame-fiona-caldicott-national-data-guardian-february-2017&quot;&gt;&lt;a href=&quot;https://twitter.com/lexanderjmartin/status/864183460478541825&quot;&gt;Dame Fiona Caldicott, National Data Guardian, February 2017&lt;/a&gt;&lt;/h2&gt;

&lt;h1 id=&quot;trust-and-openness&quot;&gt;Trust and openness&lt;/h1&gt;

&lt;p&gt;Fundamentally, this is about trust and openness. It is what is reasonable and expected.&lt;/p&gt;

&lt;p&gt;However, while that’s quite easy to say, who decides what is reasonable and expected? Do you know how your medical information is stored and to whom they are shared? For example, would you expect an IT supplier to potentially have access to your information?&lt;/p&gt;

&lt;p&gt;Here is an extract from a contract between a UK health organisation and an IT system supplier (and it is not the Google DeepMind contract):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;Personal data and medical records.&lt;/em&gt; The Supplier shall at all times comply with the Data Protection Legislate. In particular the Supplier acknowledges that in the course of providing the Works and/or Services it may access Personal Data. As needed the Supplier undertakes: a) to maintain technical and organisational security measures sufficient to comply at least with the obligations imposed on the Trust by the Seventh Data Protection Principle; b) only to process Personal Data for and on behalf of the Trust, in accordance with the instructions of the Trust and for the purpose of performance of the; c) to allow the Trust to audit the Supplier’s compliance with the requirements of this Clause on reasonable notice and/or to provide the Trust with evidence of its compliance with the obligations set out in this Clause.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Indeed, the Royal Free have published a useful video on how patient information may be used within an organisation and with suppliers who are acting &lt;em&gt;for and on behalf&lt;/em&gt; of them:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/VgpzDYStjm0&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;It is therefore clear that a large health organisation will use patient information for direct clinical care but will share those data when appropriate when other organisations or suppliers are acting “for and on behalf” of them to support the care of patients.&lt;/p&gt;

&lt;p&gt;I’m surprised by the level of criticism on Twitter this evening and impressed by the balanced view given by the Sky News item. Dame Caldicott has written to the Information Commissioner’s Office (ICO) to raise her concerns. There will be an investigation from the ICO who will make a decision regarding whether data sharing was appropriate or not.&lt;/p&gt;

&lt;h1 id=&quot;what-is-testing&quot;&gt;What is “testing”?&lt;/h1&gt;

&lt;p&gt;The issue at hand appears to be the use of patient data to test a software application. Dame Caldicott opines that as data were transferred for testing, then such transfer was unreasonable.&lt;/p&gt;

&lt;p&gt;To make a judgement on this matter, one needs to understand the law relating to confidential information, the information governance principles and software development. 
The &lt;a href=&quot;https://www.gov.uk/data-protection/the-data-protection-act&quot;&gt;Data Protection Act&lt;/a&gt; requires that data be used fairly and lawfully in a way that is adequate, relevant and not excessive. 
The &lt;a href=&quot;http://webarchive.nationalarchives.gov.uk/20130107105354/http://www.dh.gov.uk/en/Publicationsandstatistics/Publications/PublicationsPolicyAndGuidance/DH_4068403&quot;&gt;first Caldicott Committee report&lt;/a&gt; was released in 1997 and stipulated six key principles for information governance. The &lt;a href=&quot;https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/192572/2900774_InfoGovernance_accv2.pdf&quot;&gt;second report&lt;/a&gt; refined these core principles and emphasised the difference between implicit consent for direct patient care and explicit consent for research. The &lt;a href=&quot;https://www.gov.uk/government/publications/review-of-data-security-consent-and-opt-outs&quot;&gt;third report&lt;/a&gt;, commissioned after the care.data debacle, was published last year and we await an official Government response.&lt;/p&gt;

&lt;h3 id=&quot;is-the-streams-application-for-direct-care&quot;&gt;Is the Streams application for direct care?&lt;/h3&gt;

&lt;p&gt;Therefore, the first question to ask is whether the Streams application is for the direct care of patients?&lt;/p&gt;

&lt;p&gt;The Streams application runs on mobile devices and receives notifications about patients who have developed an acute kidney injury. Such an application needs a considerable underlying infrastructure in order to make it work. Much like an online shopping application on your phone, the actual work occurs in a server in a data centre. When a clinician gets an alert, they can view the patient’s record, including information about admissions, discharges, diagnoses and previous blood results in order to prioritise the care of that patient. It is not simply a notification but a window into the patient record. It is my opinion that this application satisfies the requirements of direct care for patients. Watch the Sky News report and how the consultant nurse describes its use. I am not aware of any serious argument to suggest that it is not for direct care.&lt;/p&gt;

&lt;h3 id=&quot;were-not-buying-a-new-car&quot;&gt;We’re not buying a new car&lt;/h3&gt;

&lt;p&gt;The next consideration is how one builds software that works safely and consistently. In general, the best way of prove that software works correctly is to test it. There are multiple levels of testing in which larger and larger components of a total solution are tested iteratively. If you want to read more, I cover testing in my &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;Domain-driven design for clinical information systems document&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Unit testing checks that a single unit of functionality works as expected, testing the module in isolation to check that the outputs are what one would expect given the specified inputs. It is possible to run these tests every time code is changed and such tests are possible using dummy fake data designed to test how a module performs given both usual and unusual data inputs.&lt;/p&gt;

&lt;p&gt;Integration and system testing test the combination of modules together as well as their interactions with other components within a wider ecosystem. For a simple application with few interactions, integration tests can be straightforward but such testing can be complex and involved when there are multiple different interactions, particularly when those interactions are with other systems that have been created by other vendors.&lt;/p&gt;

&lt;p&gt;It is possible to run such tests in a specific environment for tests in which there are fake ‘mock’ services. For example, one might have a fake patient administration system or a fake laboratory information system running with dummy information in order to test interactions between those systems. However, at some point during application development, the application must be deployed.&lt;/p&gt;

&lt;p&gt;Software applications are not like buying a car. When I go and buy a car, I know that it will work on the road and it will fit onto my drive and I’ll  take care that it’s got the right number of seats for my family. The car design has been tested and quality tests would have been performed before it was ready for purchase. I can buy it and drive it home.&lt;/p&gt;

&lt;p&gt;Instead, software development is much more like teaching your child to ride a bicycle. We can use dummy data like we use stabilisers, but at some point we have to take off those stabilisers! Similarly, at some point, we need to expose our new application to real data.&lt;/p&gt;

&lt;p&gt;Now if you are anything like me when teaching a child to ride a bicycle, you took off the stabilisers and then ran very quickly alongside the child as they wobbled precariously from side-to-side! In the same way, any responsible organisation writing software applications cannot and should not hand over their application without further monitoring and testing to ensure that what you think will work does not work in a live environment. Once in the live environment, it would be unreasonable for a software company to &lt;em&gt;not&lt;/em&gt; perform additional testing to be sure that their software works as expected. Similarly, we run next to our child and check that they are safe and don’t forget to keep on pedalling!&lt;/p&gt;

&lt;h1 id=&quot;conclusions&quot;&gt;Conclusions&lt;/h1&gt;

&lt;p&gt;It is important to have robust scrutiny in relation to the use of patient-identifiable information by third-parties. However, I am surprised that Dame Caldicott has suggested that it might be inappropriate to test software systems designed for direct care with real patient information. I would argue that such testing is necessary in the final stages of development to ensure that new technology is safely deployed in live clinical environments.&lt;/p&gt;</content><author><name></name></author><summary type="html">Google Deepmind may have received the personally identifying medical records of million NHS patients on a legally inappropriate basis</summary></entry><entry><title type="html">Safely deploying machine learning in healthcare</title><link href="https://www.wardle.org/clinical-informatics/2017/05/10/machine-learning.html" rel="alternate" type="text/html" title="Safely deploying machine learning in healthcare" /><published>2017-05-10T11:55:00+01:00</published><updated>2017-05-10T11:55:00+01:00</updated><id>https://www.wardle.org/clinical-informatics/2017/05/10/machine-learning</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/05/10/machine-learning.html">&lt;p&gt;In a previous blog post, I have discussed the value of information technology in supporting clinical care, unashamedly stealing and modifying Google’s original mantra:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“to organise the world’s information and make it universally accessible and useful”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and adapting it to healthcare information:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;a href=&quot;/clinical-informatics/2017/03/09/google-information.html&quot;&gt;to organise healthcare information and make it universally accessible and useful&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;and argued that we should be making healthcare safer by &lt;a href=&quot;/information-governance/2017/03/19/information-governance.html&quot;&gt;running it on rails&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Now I also regularly argue that we should be routinely recording structured information about our patients including information relating to problems, diagnoses and outcomes. Such data then allows us to make appropriate inferences about our patients such as, how is this patient doing compared to other patients with this condition? In many clinical situations, identifying the patient not behaving as expected is important.&lt;/p&gt;

&lt;p&gt;While machine learning (ML) holds the promise for creating tools that can make such inferences independently or semi-independently, I would argue that information technology can also valuably support care by organising and presenting information about patients to patients and clinicians and providing intuitive adaptive tools that allow the systematic recording of clinical information.&lt;/p&gt;

&lt;p&gt;Such goals may sound mundane compared to the future possibilities of machine learning in healthcare, but to clinicians and patients who have spent many years being “information-poor”, the power of having all relevant information available on hand as well as adaptive tools to record that information quickly and efficiently should not be under-estimated.&lt;/p&gt;

&lt;p&gt;The conclusion is, therefore, that we need clinical information systems that enable health professionals and patients to make inferences and support clinical decision making.&lt;/p&gt;

&lt;h1 id=&quot;machine-learning-for-clinical-decision-making&quot;&gt;Machine learning for clinical decision making&lt;/h1&gt;

&lt;p&gt;The problem with inferences made independently by ML is that we may not be able to, figuratively speaking, open the box and see the logical, sequential arguments and premises used to reach a conclusion. Much as in legal argument or any other form of logical reasoning, carefully crafted reasoning and argument are built upon a framework of assumptions and known evidence. In such reasoning, one can craft inferences upon inferences and justify the final conclusions by examination of each step.&lt;/p&gt;

&lt;p&gt;Human decision making is fallible and frequently non-deterministic with &lt;a href=&quot;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3057365/&quot;&gt;human error often the source of important errors in healthcare&lt;/a&gt;. Indeed, systems designed to reduce the frequency and impact of human error such as checklists, redundancy, guidelines and protocols are attempts to make human decision making more deterministic and less at risk of bias. Many systems work by breaking down a larger decision or process of care into smaller discrete steps.&lt;/p&gt;

&lt;p&gt;If I see a patient and start them on a new treatment, such as pyridostigmine, you can ask me to justify why I recommended starting this treatment for that patient in clinic and I will be able to give you a logical reasoned argument built upon evidence and inference that will include the presence or absence of particular characteristics. In this case, the characteristics may include knowledge of the diagnosis of myasthenia gravis and the rationale for that diagnosis such as the positive finding of acetylcholine receptor antibodies in the patient’s serum. I may explain the balance between symptomatic treatment such as pyridostigmine and treatments of greater efficacy but risk of adverse effects in arriving at that decision.&lt;/p&gt;

&lt;p&gt;Essentially, I can attempt to demonstrate the correctness of my final decision by a chain of reasoning. Similarly, someone else might be able to conclude I made the wrong decision by examining that chain of reasoning.&lt;/p&gt;

&lt;p&gt;So the logical questions are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;what are the regulatory requirements within which we must work in order to make effective use of ML in healthcare?&lt;/li&gt;
  &lt;li&gt;do we need to understand how machines arrive at their conclusions, so we can justify using those conclusions in clinical practice?&lt;/li&gt;
  &lt;li&gt;won’t designing  information systems that arrive at their conclusions without justification risk replicating the fallibility of human decision making?&lt;/li&gt;
  &lt;li&gt;must we be able to &lt;em&gt;see inside the box&lt;/em&gt;?&lt;/li&gt;
  &lt;li&gt;can augmented ML decision support processes be decomposed into discrete steps with the results of one semi-deterministic “black-box” feeding the action of another? Does such decomposition result in creating a partial ‘window’ to allow us to understand the chain of reasoning created by ML devices?&lt;/li&gt;
  &lt;li&gt;and finally, how can we introduce machine learning in a safe and incremental manner in healthcare?&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;medical-devices&quot;&gt;“Medical devices”&lt;/h1&gt;

&lt;p&gt;The Medicines &amp;amp; Healthcare Regulatory Agency (MHRA) provides &lt;a href=&quot;https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/610189/Software_flow_chart_Ed_1-03.pdf&quot;&gt;helpful advice on the certification of software used in healthcare&lt;/a&gt;. That interactive PDF will take you step-by-step through a decision aid in order to determine whether your software meets the definition of a “medical device”, and needs certification and accreditation with a declaration of conformity (“CE” marking).&lt;/p&gt;

&lt;p&gt;The guidance is logically organised and intuitive except that the section on “medical purpose” needs to be read carefully. Many things that you might think have a “medical purpose” are not included in their definition. This is important as if your software has a “medical purpose”, then essentially it needs assessment and certification as a medical device.&lt;/p&gt;

&lt;p&gt;For example, software which independently makes a diagnosis based on imaging data would satisfy the test for “medical purpose” and therefore be labelled a medical device. However, software which displays data and makes general recommendations is not a medical device. Software or devices which monitor sport or fitness are not medical devices, but would be considered as such if they were intended for use to monitor physiological parameters that will affect the treatment of a patient.&lt;/p&gt;

&lt;p&gt;If software claims to do any of the following, then it does have a “medical purpose”:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;make recommendations to seek further advice based on user entered data.&lt;/li&gt;
  &lt;li&gt;indicate the risk that a specific patient has of developing a disease based on entered data for that patient.&lt;/li&gt;
  &lt;li&gt;allow remote access to information on physical monitors and applies user-defined filtering rules to any alarms generated by the original device.&lt;/li&gt;
  &lt;li&gt;monitor a patient and collects information entered by the user, measured automatically by the app or collected by a point of care device may qualify as a medical device if the output is intended to affect the treatment of an individual.&lt;/li&gt;
  &lt;li&gt;automate the treatment pathway for an individual patient.&lt;/li&gt;
  &lt;li&gt;provide clinical decisions&lt;/li&gt;
  &lt;li&gt;intended for therapeutic drug monitoring&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;However, if software has only one of these purposes, then it is not considered as having a “medical purpose”:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Patient medical education&lt;/li&gt;
  &lt;li&gt;Monitors fitness/health/wellbeing&lt;/li&gt;
  &lt;li&gt;Professional medical education&lt;/li&gt;
  &lt;li&gt;Stores or transmits medical data without change&lt;/li&gt;
  &lt;li&gt;Software that is used to book an appointment, request a prescription or have a virtual consultation is also unlikely to be considered a medical device if it only has an administrative function.&lt;/li&gt;
  &lt;li&gt;Software that provides reference information to help a Healthcare Professional to use their knowledge to make a clinical decision.&lt;/li&gt;
  &lt;li&gt;Data or databases for storing data&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;implications-for-information-technology&quot;&gt;Implications for information technology&lt;/h1&gt;

&lt;p&gt;The process of confirmation of conformity with the requirements of a “medical device” is confirmation that it passes &lt;a href=&quot;http://eur-lex.europa.eu/LexUriServ/LexUriServ.do?uri=CONSLEG:1993L0042:20071011:EN:PDF&quot;&gt;clinical evaluation&lt;/a&gt;. This process is designed to verify that a device performs as it is intended to do so, requiring research to demonstrate efficacy and adverse effect risk, much like the evaluation of a pharmaceutical product. There is a lot of information from MHRA on the &lt;a href=&quot;https://www.gov.uk/government/uploads/system/uploads/attachment_data/file/508494/Guidance_for_mfrs_on_clinical_trials__GN1__-_16_Mar_2016.pdf&quot;&gt;clinical evaluation of medical devices&lt;/a&gt; available online. In addition, any device needs ongoing surveillance of its functionality in order to confirm that it continues to function as it was intended and has had no untoward effects not found during clinical evaluation.&lt;/p&gt;

&lt;p&gt;Most information technology systems are made up of multiple interoperating modules and it is unlikely that all such modules would meet the criteria to become medical devices. As a result, it is possible for the accreditation to be needed for a single module.&lt;/p&gt;

&lt;p&gt;The natural conclusion is to plan for two parallel streams of work in relation to machine learning.&lt;/p&gt;

&lt;p&gt;The first stream is to support the ascertainment, aggregation and presentation of data relating to patients in order to support clinical care. Such data might range from the results from laboratory tests to links to guidelines that might apply in that general clinical context. This stream of work will not meet the criteria for a “medical device” and yet ML offers opportunities to improve how information is recorded, retrieved and shown. Importantly, I’d argue that the graphical display of data is under-used in healthcare and yet is a powerful way of summarising information without inadvertently creating a device that needs accreditation as a medical device.&lt;/p&gt;

&lt;p&gt;The second stream is the development of software that can independently make inferences and judgements and present those results in order to influence or change patient management. Such software would be categorised as a “medical device”, and as a result, this stream of work must be undertaken much as the development of a new pharmacological product, via a phased and iterative structured research programme. The four phases for pharmaceutical products are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;Phase I studies the safety of the product, with testing on small numbers of healthy volunteers.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Phase II studies the efficacy of the product usually by randomising individuals to either placebo or the pharmaceutical product and assessing the difference. In clinical situations in which there is an established treatment, the control arm of the study would typically involve the “current standard of care or treatment” rather than placebo.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Phase III is essentially a large scale version of Phase II but patients are almost always randomised. Phase III results can be used to seek MHRA approval for the use of that product.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Phase IV is the post-marketing surveillance, monitoring the real-world use of the product.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;clinical-research-for-medical-devices&quot;&gt;Clinical research for medical devices&lt;/h3&gt;

&lt;p&gt;However, this scheme is modified for medical devices which need to prove safety and performance (as claimed) rather than efficacy. This distinction is made in the &lt;a href=&quot;http://www.hra.nhs.uk/documents/2013/09/approval-of-medical-devices-research-version-2-april-2008.pdf&quot;&gt;UK’s National Patient Safety Agency (NPSA) National Research Ethics Service (NRES) guidance&lt;/a&gt; from 2008. Assessment of safety requires studies to determine whether there are any “undesirable side effects under normal conditions of use and to allow an informed clinical opinion to assess whether these are acceptable when weighed against the benefits in relation to the intended performance of the device.” Assessment of performance requires studies “to verify that under normal conditions of use the performance characteristics of the device are those intended by the manufacturer.”&lt;/p&gt;

&lt;p&gt;Just because a study is required to demonstrate safety and performance, the nature of ML devices is that such studies may not necessarily have to be performed prospectively. Indeed, a simple ML device that is claimed to, for example, recognise a deteriorating renal function, may simply require a study of performance against retrospective clinical data in order to verify that it is performing as required; this is an &lt;em&gt;in-silico trial&lt;/em&gt;. It is important to note that such a process would need to be repeated if the device or its logic changed but this would be straightforward if the device to be tested simply needs to process the validation dataset and have its results checked. Indeed, this is the very essence of test-driven development in which a set of tests are written to validate that a piece of software is correct. The logical conclusions that follow from a need to perform both ML training and then subsequent validation is the provision of large-scale real clinical datasets.&lt;/p&gt;

&lt;p&gt;However, is it possible to reduce the assessment of a medical device to a process of validation of the outputs given the specified inputs?&lt;/p&gt;

&lt;p&gt;In many cases it is, particularly where the scope of the problem to be solved is limited or, a more complex problem has been decomposed manually in a series of steps and each of those steps can be tested independently. It really doesn’t matter if the process performed in each step is opaque as long as we can validate the output given a range in inputs. To answer one of our questions: we don’t have to “see inside the box”. I’d regard these as &lt;em&gt;bounded problems&lt;/em&gt; in which human supervision has carefully curated the data used as input. In essence, the ML is a supervised process and is functioning much as one would apply regression to a set of data in order to determine the covariates that significantly effect the outcome.&lt;/p&gt;

&lt;p&gt;However, what if the inputs and outputs are much more complex and less bounded? In complex medical environments, there may be data relating to a range of parameters such as co-morbidities, patient location, previous admissions, laboratory test results etc. Any or all of these data may be potentially used as input for deep-learning training and may produce random and sometimes bizarre outputs unexpectedly in a minority of situations. The ‘black-box’ inferences resulting from a hypothesis-free unbounded, unsupervised training paradigm using large amounts of clinical data cannot be explained or validated easily. In these circumstances, a model may use unexpected pieces of data made available as part of training in order to derive the outputs. This is particularly important for data that is not a predictive factor for an outcome, but a result of that outcome.&lt;/p&gt;

&lt;p&gt;For example, this might result in inappropriate inferences being made, such as flagging up a patient on the intensive care unit (ICU) as needing intervention more than a patient on the ward. The training data would show that the patient on the ICU to be at greater risk of death, but of course, the presence of the patient on ICU is a result of clinicians identifying that patient and bringing them to the ICU. Such logic may result in paradoxical inferences that ignore a deteriorating patient on a surgical ward.&lt;/p&gt;

&lt;p&gt;Do we have a framework that can certify such logic as being fit-for-purpose? Much like a pharmaceutical product, our more complex ML may have unintended consequences that are not easily demonstrable. In essence, the introduction of ML into a clinical environment becomes an intervention in a similar way to a pharmaceutical product. So, does that mean we must run randomised controlled trials of ML solutions?&lt;/p&gt;

&lt;h3 id=&quot;healthcare-technology-deployment&quot;&gt;Healthcare technology deployment&lt;/h3&gt;

&lt;p&gt;There are important differences between the deployment of technology within healthcare compared to the use of a pharmacological product. For example, a placebo may easily be substituted in place of an actual drug as a part of a randomised trial. If I start using a new treatment for hypertension, it is simply another prescription among many, rather than a change in working practice. However, if I deploy a new electronic patient record system, how can we determine it is effective and safe?&lt;/p&gt;

&lt;p&gt;Similarly, we have little data on the effect of machine learning on the behaviour and actions of clinical users. In particular, do we know what happens when users &lt;em&gt;assume&lt;/em&gt; technology will ensure that they are not making a mistake? Bob Wachter  2015 book, “The Digital Doctor”, explains in details the catalogue of errors that resulted in a patient being given a 39-fold overdose; in many of those errors, the fundamental issue was of inappropriate confidence and trust in the computer.&lt;/p&gt;

&lt;p&gt;However, we do not routinely run clinical trials when deploying new software systems within healthcare. When we introduce a systems for electronic prescribing, patients are not randomised into two groups. There is not a group of patients whose prescriptions are written electronically while another continues to have their medications prescribed on paper. Instead, a system might be deployed incrementally and rolled out piecemeal across an organisation, or the system is procured because there are safety data relating to the product or the type of product from a different organisation. If we know errors in prescription are common when using paper and they were reduced when an electronic system was deployed in another organisation, is this sufficient evidence of its performance?&lt;/p&gt;

&lt;p&gt;Would it be possible to run clinical trials of technology with the same rigour as those used for pharmaceutical products, not simply assessing performance against those claimed but looking for genuine efficacy? Certainly there would be considerable practical difficulties not least in trying to randomise patients to the intervention - in this case a new ML system - and placebo. Most organisations recognise that it is not possible to run randomised controlled trials of changes in their services, structure or indeed, information technology. Instead, they &lt;em&gt;should&lt;/em&gt; adopt a &lt;a href=&quot;/cis-design/2017/05/01/medical-record.html&quot;&gt;continuous improvement methodology&lt;/a&gt; in which they continuously measure, analyse and monitor their services and subsequently effect improvements and repeat.&lt;/p&gt;

&lt;h1 id=&quot;conclusions-for-ml&quot;&gt;Conclusions for ML&lt;/h1&gt;

&lt;p&gt;In conclusion, health professionals and patients are ‘information-poor’ and information technology must be used to improve access to information. However, there are risks in such an approach as important data may be lost within a large amount of irrelevant information and there will be an increasing need to curate, summarise and infer from these data in order to support clinical decision making.&lt;/p&gt;

&lt;p&gt;As such, my first suggestion is that we should be exploring the use of technology and ML to record and display the right information at the right time. It is possible for me to contrive what information I’d like to see when I see a patient with multiple sclerosis, but how can we do this at scale? Can we train deep learning systems with what information to show by giving those systems data on what information a clinician clicks on and reads and subsequently use those insights and heuristics to learn in real-time? Such a learning system should improve over time in response to the navigation choices made by clinicians in different contexts. As a result, instead of showing me a chronological list of investigations, I might be shown the most recent platelet count (dropped to 70 from a previous normal value) along with graph.&lt;/p&gt;

&lt;p&gt;Such a solution will be made much more powerful by ensuring that the ML systems have access to a wide-range of structured clinical information, such as diagnoses and procedures. My second suggestion is therefore to work on the development of a range of clinically useful tools to facilitate the routine, systematic and real-time collection of structured data.&lt;/p&gt;

&lt;p&gt;Thirdly, in order to look back at ML ‘decisions’, we must be able to see a snapshot of the data used by ML at the time of the decision. This means that it must be possible to either store or recreate what the algorithm saw at the time of making any inferences as well as a record of those inferences and the action taken.&lt;/p&gt;

&lt;p&gt;Fourthly, the introduction of ML within healthcare should aim to surpass the formal regulatory requirements. Any software deployment should adopt a continuous improvement methodology in which there is an attempt to measure its performance and safety in a real-life clinical environment. All ML systems should have training and subsequent validation using independent data via &lt;em&gt;in silico&lt;/em&gt; clinical trials and overseen by appropriate governance arrangements.&lt;/p&gt;

&lt;p&gt;In particular, any ML system that meets the requirements of a medical device requires additional safeguards and I would argue that current requirement to simply demonstrate its performance compared to what is claimed is insufficient.  Instead, I suggest that phase III clinical trials of medical devices containing artificial intelligence (AI) must be performed in a way that permits us as a health community to understand the value and the risk from the introduction of artificial intelligence over and above the other technology required.&lt;/p&gt;

&lt;p&gt;A controlled trial of ML might be possible within a single organisation but I would envisage a trial across multiple organisations would be needed in order to compare the efficacy and safety between those using AI and those who are not. For such a study, we would try to isolate the use of machine learning as the only difference between the control and intervention arm. As a result, deployment would need to be across both organisations with the only difference being the use of ML itself.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Mark&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">In a previous blog post, I have discussed the value of information technology in supporting clinical care, unashamedly stealing and modifying Google’s original mantra:</summary></entry><entry><title type="html">Clinical information system design: 3. Data standards and terminology</title><link href="https://www.wardle.org/cis-design/2017/05/02/data-standards.html" rel="alternate" type="text/html" title="Clinical information system design: 3. Data standards and terminology" /><published>2017-05-02T15:20:00+01:00</published><updated>2017-05-02T15:20:00+01:00</updated><id>https://www.wardle.org/cis-design/2017/05/02/data-standards</id><content type="html" xml:base="https://www.wardle.org/cis-design/2017/05/02/data-standards.html">&lt;p&gt;A terminology is a body of terms used within a particular subject of study or profession. A classification is a systematic organisation of things into classes. A classification system such as ICD-10 cannot be used as a terminology and many terminologies cannot be easily used as a classification system. This is an important distinction and relates to the how those data are primarily used.&lt;/p&gt;

&lt;h1 id=&quot;snomed-ct&quot;&gt;SNOMED CT&lt;/h1&gt;

&lt;p&gt;SNOMED CT is a very large and comprehensive terminology.  Importantly terms can be linked by multiple relationships to other terms. 
This makes it possible for software to determine that “multiple sclerosis” is a disease defined by “demyelination” of the “central nervous system”. 
When implemented properly, SNOMED CT enables software to make intelligent decisions about what to show, what data to request and what forms to present, based on the diagnoses entered. For example, the database would know that a patient had epilepsy if they were given a diagnosis of juvenile myoclonic epilepsy or frontal lobe epilepsy or any of the hundreds of other terms that are equivalent to a diagnosis of epilepsy.&lt;br /&gt;
Thus a command to ‘send an alert when a patient, belonging to a particular consultant, with motor neurone disease loses 5% of their body mass compared to their baseline at diagnosis’, can be implemented easily. SNOMED CT allows the underlying logic to simply ask whether the patient has a type of “motor neurone disease” and this would automatically include all patients with related diagnoses such as “primary lateral sclerosis” and “pseudobulbar palsy”.&lt;/p&gt;

&lt;p&gt;SNOMED CT is not confined to diagnostic and procedural information.  There are hierarchies covering a wide range of medical terminology including anatomical structures, pathology, occupations and ethnic origins. With local extensions such as the NHS’ DM&amp;amp;D (dictionary of medicines and devices) these codes can be used in any field that needs structured coded information.&lt;/p&gt;

&lt;p&gt;Another advantage is support for synonyms. A distinct clinical concept can and usually has multiple synonyms - for example “Granulomatosis with polyangiitis” was previously known as “Wegener granulomatosis”. With synonym support, a user entering an outdated or synonymous term would find the synonym and see it mapped into the new modern preferred description of the term.&lt;/p&gt;

&lt;p&gt;Within SNOMED CT, clinical terms are “concepts”, “synonyms” are “descriptions” and the relationships between concepts are recorded as “relationships”. While seemingly simple, as relationships themselves are defined by concepts (such as ‘IS-A’ as in “‘Motor neurone disease—IS-A—Disorder of nervous system”) it means that the relationship tree is infinitely extendable over time.&lt;/p&gt;

&lt;p&gt;SNOMED CT is owned by Snomed International - and is an international terminology, with the UK version managed by the UK Terminology Centre (UKTC) of the Health and Social Care Information Centre (HSCIC) - now called NHS Digital.  There are online &lt;a href=&quot;http://systems.hscic.gov.uk/data/uktc/training&quot;&gt;training resources&lt;/a&gt; as well as a simple online &lt;a href=&quot;http://browser.ihtsdotools.org&quot;&gt;SNOMED CT browser&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I have developed an open-source terminology server that provides fast free-text search and navigation around the SNOMED CT hierarchy as well as providing semantic understanding for any concept, allowing client software to answer questions like “does this patient have a type of granulomatous disease?”, “was this patient born in Europe?” or even “is this drug a type of beta-blocker?” . It would answer yes to the first question simply by understanding the diseases that the patient has been listed as having, answering “yes” if a patient had sarcoidosis and “no” if they had multiple sclerosis. Similarly, it would respond with “yes” if a patient was recorded as being born in France but “no” if they were born in Afghanistan.  SNOMED CT provides the logical relationships in order to drive such computerised decision-making.&lt;/p&gt;

&lt;h1 id=&quot;information-models&quot;&gt;Information models&lt;/h1&gt;

&lt;p&gt;Each SNOMED CT concept, description and relationship has a unique and persistent identifier that can be stored in a data store. 
Most clinical applications persist information in a relational database and so a simple implementation may simply store the identifier as a foreign key to the row that represents that entity. However, whilst these terms have meaning when used in isolation (e.g. storing the identifier representing”myocardial infarction”), it is only when these terms are combined together in a logical way as part of a larger data model, that true meaning can be understood. It is analogous to definitions for individual words in a dictionary but true expression results only when these words are combined into sentences and paragraphs. As such, most concepts are only useful when considered within the information model in which it is recorded.&lt;/p&gt;

&lt;p&gt;The information model used in which SNOMED CT concepts are stored is therefore critical to derive understanding from what can be inferred from the recording of a concept. This is particularly important for a terminology such as SNOMED CT in which terms may be recorded together to form a compositional (post-coordinated) term such as “Family history of…” (281666001) and “Obesity” (414916001) or out of convenience represented as a single SNOMED CT term “Family history: Obesity” (160311006).&lt;/p&gt;

&lt;p&gt;If SNOMED CT had not only defined a terminology but also a wider information model then such compound pre-coordinated terms would be unnecessary and the recording of “obesity” within a model defining a family history would be sufficient. However, while compound pre-coordinated terms risk an explosion of terms to cater for multiple combinations, they do make it easier for end-users to find concepts that represent what they are trying to record and support workflows in which clinical terms are recorded in a relatively unstructured information model, such as that used in primary care historically using Read codes. Of course, SNOMED CT was developed as an amalgamation of SNOMED from the College of American Pathologists and Read (Clinical Terms Version 3) codes with the latter recorded prospectively and longitudinally in UK primary care systems in a relatively unstructured format. There are advantages in SNOMED CT being independent from the surrounding data model within which it is transmitted or stored particularly as SNOMED CT terms generally reflect core concepts relating to health, disease and the processes of care. As a result a range of models can be used with SNOMED CT and similarly, different terminologies can be bound to a model such as LOINC - LOINC is an alternative terminology focused on tests, measurements and observations — see &lt;a href=&quot;https://loinc.org&quot;&gt;LOINC&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I generally recommend a highly structured approach to the storage of SNOMED CT codes in which the information model in which they are stored ensures no uncertainty in interpretation and that to simplify subsequent analysis and retrieval, compound pre-coordinated terms are decomposed into their components are stored appropriately. As such, users may enter information via a highly structured workflow in which the context is evident as part of the user interface such as recording family history or allergies or a less structured workflow in which terms can be entered and decomposed and entered into a more structured information model. Alternatively, an implementation may instead store the codes as entered and deal with ensuring that a diagnostic term recorded in a family history model is equivalent to the compound term.&lt;/p&gt;

&lt;p&gt;To provide evidence to support a highly structured approach, I suggest considering how one might use SNOMED CT to record examination findings. While there is a code for “supranuclear gaze palsy” (420675003) there is no compound code to record that there is an absence of this examination finding. While one could request an addition to SNOMED CT, it is much more appropriate to consider examination findings in two categories, those found and those not found. The recording of a lack of clinical sign is important in clinical practice as well as for medico-legal reasons. As such, the information model in which this clinical finding is recorded is critical in providing understanding. SNOMED CT does allow post-coordinated terms in which multiple terms are combined together to give meaning. One possible way of representing the ‘lack of’ a clinical finding is to post-coordinate with a negation concept to form a compositional term but I advocate using a robust information model as a simpler method of expressing clinical knowledge particularly when one considers &lt;em&gt;how&lt;/em&gt; users are expected to record such findings.&lt;/p&gt;

&lt;p&gt;Example information models which can record SNOMED CT terms in context are HL7 and openEHR. OpenEHR uses the term ‘archetype’ as a synonym for ‘information model’. The use of validated and published data structures support subsequent interoperability between disparate systems which can process that model. However, the use of a specific information model does not necessarily force the use of that model as a format in which to store data, but may be used only as a representation of data to be used for interoperability with other systems. Indeed, a focus on a model of any form improves the potential for interoperability because that model is likely to be an abstraction of real-life concepts and thus it becomes possible to map from one information model to another.&lt;/p&gt;

&lt;p&gt;However, even if two information models represent the same real-life concept and they look superficially similar, the process of mapping can introduce ambiguity and potentially even errors, particularly if a data element is present in one model but not in another. In addition, different terminologies may be used with an information model in a process called ‘terminology binding’ and so simply mandating a particular kind of information model does not guarantee interoperability.&lt;/p&gt;

&lt;h1 id=&quot;hl7&quot;&gt;HL7&lt;/h1&gt;
&lt;p&gt;Health Level Seven (HL7) is an international standards development organisation that publishes standards for healthcare interoperability. For more information, see the &lt;a href=&quot;http://www.hl7.org.uk&quot;&gt;HL7 website&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;HL7 publish a range of interoperability standards including HL7 V2, HL7 V3 and CDA, and the HL7 FHIR.&lt;/p&gt;

&lt;h2 id=&quot;hl7-v2&quot;&gt;HL7 V2&lt;/h2&gt;
&lt;p&gt;HL7 V2 refers to HL7’s currently most used health standard from HL7 first released in 1989 and deployed internationally. See more information &lt;a href=&quot;http://www.hl7.org/implement/standards/product_brief.cfm?product_id=185&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.hl7.org/about/FAQs/index.cfm?ref=nav&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is fundamentally a messaging standard and early versions focused on ‘ADT’ messages, messaging relating to the admission, discharge and transfer of patients. Such messages are sent as ‘triggers’ and therefore adopt a ‘push’ model of health interoperability. HL7 has grown organically and iteratively over many years with an increasing number of message types including those to record clinical observations and laboratory results for example. The latest version is HL7 v2.6 which was approved as an ANSI standard in 2007.&lt;/p&gt;

&lt;h2 id=&quot;hl7-v3-and-the-rim&quot;&gt;HL7 V3 and the RIM&lt;/h2&gt;
&lt;p&gt;HL7 V3 was developed from 1992 to define a Reference Information Model (RIM) describing healthcare-related messages and trigger events relating to those messages. 
The RIM defines an object-orientated model in which types are sub-specialisms of a more generic type. For example, in the same way as bicycles and cars are &lt;em&gt;types&lt;/em&gt; of vehicles, a ‘Person’ is a type of a ‘Living Subject’ but veterinary patients such as dogs and cats are represented as a ‘Non-person living subject’. As in object-orientated programming languages, specialist models inherit attributes and behaviours from their more generic parent types.&lt;/p&gt;

&lt;p&gt;The three core classes in HL7 RIM are ‘Act’, ‘Entity’ and ‘Role’:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;An act is a record of something that has or will happen. This will usually include what has been done, to whom, by whom, when, where and how and possibly documenting why.&lt;/li&gt;
  &lt;li&gt;An entity is a living or non-living thing such as a person, animal or organisation.&lt;/li&gt;
  &lt;li&gt;A role represents a skill or competency of an Entity, such as patient, employee, place or organisation.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The HL7 V3 standard is large and complex and many healthcare organisations with an existing infrastructure built using HL7 V2 have been reluctant to adopt the newer standard so HL7 RIM is not used as much as HL7 V2 internationally.&lt;/p&gt;

&lt;h2 id=&quot;hl7-v3-cda&quot;&gt;HL7 V3 CDA&lt;/h2&gt;
&lt;p&gt;The HL7 V3 Clinical Document Architecture (CDA) defines a document-based information model in which components of the HL7 V3 RIM is used as a header together with a document body consisting of a mixture of unstructured and structured data. As I discuss in my post on &lt;a href=&quot;/cis-design/2017/05/02/clinical-modelling.html&quot;&gt;clinical modelling&lt;/a&gt;, a document-based architecture is an appropriate abstraction of real-life processes and explicitly ensures that clinical information is recorded together with its context; such a document can stand in isolation and be understood by the reader. When contextual clues are removed, interpretation of structured and unstructured information is potentially hazardous. A document can be immutable once created and document lifecycle and process management including creation, editing and repudiation can be modelled in a straightforward manner.&lt;/p&gt;

&lt;p&gt;There are three CDA levels:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;CDA level one: has a header and human-readable body usually in an unstructured format such as free text or file types such as images or documents (e.g. Adobe PDF).&lt;/li&gt;
  &lt;li&gt;CDA level two: extends level one by including more structured data within the body of the document.&lt;/li&gt;
  &lt;li&gt;CDA level three: allows highly-structured data to be encoded at a high level of granularity.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;With the document paradigm limiting mismatch between model and real-life, adoption of the CDA standard has been widespread internationally. It is the most adopted &lt;a href=&quot;http://www.hl7.org/FHIR/comparison-cda.html&quot;&gt;HL7 V3 standard&lt;/a&gt;.
In addition, the different CDA levels permit flexibility in the recording of unstructured and structured data, easing adoption of the standard. Such an approach permits implementers to use level one of the HL7 CDA to store relatively unstructured documents initially but evolve over time to permit newer applications to store more structured information and yet remain interoperable.&lt;/p&gt;

&lt;h2 id=&quot;fhir&quot;&gt;FHIR&lt;/h2&gt;

&lt;p&gt;FHIR, &lt;a href=&quot;https://www.hl7.org/fhir/summary.html&quot;&gt;Fast Health Interoperability Resources&lt;/a&gt;, is a new framework created by HL7 which uses modern web services over HTTP to create, edit and share modular resources. Importantly, the HL7 FHIR standards are free to use without restriction and focus on data standards and the implementation of those standards within clinical systems.&lt;/p&gt;

&lt;p&gt;The use of FHIR does not mandate that existing and new clinical systems use FHIR standards to define their internal architecture or internal &lt;em&gt;storage&lt;/em&gt; formats, but the use of FHIR can provide an open and standard interface to permit interoperability between different systems created by different vendors. As such, an application or service can provide access to data in an open and extensible format by providing a FHIR server and consume different data as a FHIR client.&lt;/p&gt;

&lt;p&gt;There are a range of FHIR &lt;a href=&quot;http://www.hl7.org/FHIR/implementation.html&quot;&gt;frameworks&lt;/a&gt; including:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Search: within a resource, such as searching for a patient.&lt;/li&gt;
  &lt;li&gt;Operations: on a resource such as fetching an encounter record or processing a message. These are in addition to the standard CREATE, READ, UPDATE and DELETE REST-based interactions.&lt;/li&gt;
  &lt;li&gt;Documents: representing a composition of other resources with a fixed presentation linked to context.&lt;/li&gt;
  &lt;li&gt;Messages: to allow messages to be sent in response to a specific event.&lt;/li&gt;
  &lt;li&gt;Services: to provide a representation of a service-orientated architecture within healthcare. See the &lt;a href=&quot;http://www.hl7.org/FHIR/services.html&quot;&gt;FHIR service documentation&lt;/a&gt; for more information.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There is backwards-compatibility so that FHIR documents can contain HL7 V3 CDA documents. FHIR potentially improves the integration and interoperability between disparate systems. The standard uses open web standards over the HTTP protocol and so development can be straightforward. However, FHIR is still under active development at the time of writing and the current release is designated as a “draft standard for trial use”. As such, future versions of FHIR may result in non-compatible future changes.&lt;/p&gt;

&lt;h1 id=&quot;openehr&quot;&gt;openEHR&lt;/h1&gt;

&lt;p&gt;openEHR is an open standard for the recording of health-related data maintained by the &lt;a href=&quot;http://openehr.org&quot;&gt;OpenEHR foundation&lt;/a&gt;. It defines a multi-level information model in which the core model (the ‘reference model’) does &lt;em&gt;not&lt;/em&gt; include clinical information but focuses on core generic abstractions and process. Archetypes represent the clinical information model, with models created, edited and curated as part of a ‘clinical knowledge manager’ (CKM). This multi-level modelling approach means that health professionals can undertake clinical modelling independent of the underlying implementation. In addition, small and re-usable domain models can be aggregated into a ‘template’. For example, if a domain model contains ‘blood pressure’ and ‘heart rate’ then this model can be incorporated within a larger ‘template’ representing an emergency unit admission. An overview is available &lt;a href=&quot;http://www.openehr.org/releases/AM/latest/docs/Overview/Overview.html&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In addition, there is a new openEHR REST-based application programming interface (API) which proposes to define standards to which an openEHR implementation should adhere. However, the development of these standards is still in development and has not yet been finalised.&lt;/p&gt;

&lt;h1 id=&quot;loinc&quot;&gt;LOINC&lt;/h1&gt;
&lt;p&gt;LOINC is a freely available international standard for tests, measurements and observations. The official website is &lt;a href=&quot;https://loinc.org&quot;&gt;https://loinc.org&lt;/a&gt;.&lt;br /&gt;
Although limited in scope, it has been adopted by HL7 as the standard code system for laboratory results. In addition, there is a project to map LOINC codes to SNOMED-CT and vice versa.&lt;/p&gt;</content><author><name></name></author><summary type="html">A terminology is a body of terms used within a particular subject of study or profession. A classification is a systematic organisation of things into classes. A classification system such as ICD-10 cannot be used as a terminology and many terminologies cannot be easily used as a classification system. This is an important distinction and relates to the how those data are primarily used.</summary></entry><entry><title type="html">Clinical information system design: 2. Clinical modelling</title><link href="https://www.wardle.org/cis-design/2017/05/02/clinical-modelling.html" rel="alternate" type="text/html" title="Clinical information system design: 2. Clinical modelling" /><published>2017-05-02T12:06:00+01:00</published><updated>2017-05-02T12:06:00+01:00</updated><id>https://www.wardle.org/cis-design/2017/05/02/clinical-modelling</id><content type="html" xml:base="https://www.wardle.org/cis-design/2017/05/02/clinical-modelling.html">&lt;p&gt;A model is an abstraction of the real-world distilling knowledge into core concepts and processes. A model is a careful balance between complexity and over-simplification with models that are too complex providing brittle abstractions which are poorly generalisable and models that are too simple not supporting all of the demands placed upon it in real-life clinical scenarios.&lt;/p&gt;

&lt;p&gt;Modelling is an art but the approach can be made more systematic if modellers work iteratively within a supporting organisational environment with clinical and technical staff working together in  logical teams. Importantly, the scope of their model should be limited; large enough to solve the domain problems but small enough to result in a practical implementation. As such, it is important to have an appropriate separation of concerns in which teams can work independently of other teams as much as possible and that interfaces between that team and others are formalised on a contractual basis.&lt;/p&gt;

&lt;h1 id=&quot;high-level-functional-requirements&quot;&gt;High-level functional requirements&lt;/h1&gt;

&lt;p&gt;Clinical modelling is dependent on knowledge of the domain and the functional requirements to which the model will serve. It is useful to abstract these requirements to make them as generally-applicable as possible and not to generate needlessly specific requirements with limited applicability. However, the process of generated functional requirements and a subsequent data and process modelling is not a one-way process but must be an iterative two-way development in which there is feedback and discussion among all stakeholders and between all steps of requirements-gathering, modelling and implementation.&lt;/p&gt;

&lt;h1 id=&quot;the-process-of-developing-a-clinical-model&quot;&gt;The process of developing a clinical model&lt;/h1&gt;
&lt;p&gt;I suggest dividing clinical modelling into three related steps:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Modelling data within a medical record&lt;/li&gt;
  &lt;li&gt;Modelling processes and workflow relating to a medical record&lt;/li&gt;
  &lt;li&gt;Implementation of a clinical model into a workable and practical solution.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;These three steps should be considered separately but are dependent on one another and inherently depend on the functional requirements. In designing clinical information systems, a data model may change infrequently or a design may even be correct in perpetuity; a systolic blood pressure recorded using a cuff on the right arm of an individual will always be a systolic blood pressure recorded using a cuff on the right arm of an individual. However, a model of the processes of care will likely change more frequently as a result of changes in working practices and service design, and an implementation may change even more frequently as a result of new technologies and devices.&lt;/p&gt;

&lt;p&gt;As each step is dependent on each other, modelling must be an iterative work with feedback loops between all steps rather than performed in sequence by different members of the team. An implementation cannot be designed without consideration of the data structures and processes that leverage the data within those structures and a model cannot be designed unless it is practical and efficient to perform an implementation. It also follows that clinical modelling must be performed by a team of individuals with a range of skills including those with important domain knowledge such as health professionals as well as those responsible for the design and implementation of the resulting software such as technical architects and software developers.&lt;/p&gt;

&lt;p&gt;Traditional waterfall-based design methods emphasise a sequential process involving business analysis and scoping, design, implementation, verification and then subsequent maintenance. Indeed, such methods are commonly used within NHS Wales with a focus on producing a product to solve a particular problem which then becomes “complete” and enters “maintenance”. I strongly believe that this approach is wrong and instead development should by underpinned by a robust model developed iteratively considering both workflow and implementation together with an understanding that any solutions will never be complete.&lt;/p&gt;

&lt;h2 id=&quot;modelling-the-medical-record&quot;&gt;Modelling the medical record&lt;/h2&gt;

&lt;p&gt;The breadth of knowledge within the medical record is potentially daunting with multiple types of data recorded in many different contexts and for many different purposes. Such data will need to be shown to users in order for them to make sense of a patient’s condition or clinical course, but also used to monitor a clinical service by providing real-time data on patient flow and progression along one of many clinical pathways.&lt;/p&gt;

&lt;p&gt;I advocate a clinical record in which much information is stored in a highly structured format. Some free-text is necessary but where possible, clinical information should be recorded using a standardised terminology such as SNOMED CT held within larger data structures representing the clinical model.&lt;/p&gt;

&lt;p&gt;Advances in technology such as new interventions, evolving diagnoses, new diagnostic tests and changing processes result in an ever-expanding knowledge base to which software systems must evolve and adapt. As such, no software system designed to model the medical record will ever be complete and as such, designing for incremental change in the medium and long-term is a pre-requisite. If real-world knowledge is ever-changing, then models too must constantly be refined and evolved. As such, the design and subsequent constant refinement and evolution of any model underpinning a complex clinical information system must be supported by an appropriate organisational structure which facilitates an iterative development approach. Such iterative development requires domain experts such as clinicians work closely in teams with developers to constantly refine their own understanding, focus the analysis of requirements and distil what they know to the core essentials that must underpin the design of any subsequent information system.&lt;/p&gt;

&lt;h3 id=&quot;electronic-medical-records-and-the-importance-of-context-and-provenance&quot;&gt;Electronic medical records and the importance of context and provenance.&lt;/h3&gt;
&lt;p&gt;An advantage of electronic records is that such records can be made universally available wherever they are needed such as when a patient presents to an emergency health facility or a new outpatient clinic or when the patient contacts a team via email or telephone. A disadvantage of electronic records is the need for real-time curation of patient records so that users are not overwhelmed by excessive information that is not relevant in their specific clinical context. It is therefore vital that any model supports not only the recording of information but the context and provenance in which those data were recorded and that views of aggregated information for a single patient take into account such contextual cues to ensure users see the information that is required and optionally filters information.&lt;/p&gt;

&lt;p&gt;Such issues also arise in paper records, particularly when a single patient has multiple volumes of notes. However, as paper records serve a single organisation end-users may find important information related to their own service  based on filing standards, paper colour, logos, page layout and the names of colleagues and can flick through the physical record more easily than a poorly curated and unstructured digital counterpart. However, paper records fail for patients looked after by multiple organisations, in which clinical correspondence from an outpatient clinic in one facility will usually not be available in another unless manual action by end-users is taken.&lt;/p&gt;

&lt;h2 id=&quot;modelling-the-processes-involving-medical-records&quot;&gt;Modelling the processes involving medical records.&lt;/h2&gt;

&lt;p&gt;Medical records are more than a simply narrative of what has happened to a patient listed in sequential order. A number of important processes and workflows exist that relate to the sending and receiving of paper-based forms that must be considered in any abstraction of medical enterprise. Paper records such as printed correspondence, request forms, results of investigations are sent to a responsible individual in order for them to be read and acted upon. On some occasions, such documentation is annotated, forming a narrative of the actions undertaken by the end-user or forwarded to another, forming a chain of correspondence. Electronic systems are potentially safer offering guarantees of sending and receiving such requests, providing full audit trail functionality and non-repudiation of comments and action. However, any process relating to a medical record must be modelled with as much care as the modelling of data structures.&lt;/p&gt;

&lt;p&gt;Most data standards relating to healthcare, such as HL7, openEHR, and FHIR, model the data relating to healthcare and not the processes and workflow that reflect the care of patients itself. While modelling data is an important pre-requisite in the conception and design of clinical information systems, modelling the processes and workflow that relate to that model is firstly an important test that data modelling is fit-for-purpose and secondly, critical itself in ensuring a resulting clinical information system will be a workable and valuable asset in providing healthcare services.&lt;/p&gt;

&lt;p&gt;Process and workflow will change frequently as clinical services evolve and develop and any model must take such changes into account so that any subsequent implementation can flexibly handle different workflows. Abstracting workflow is the most appropriate method to future-proof any clinical system and modellers must then consider how to model the configuration of more abstract workflows into a concrete implementation at runtime.&lt;/p&gt;

&lt;p&gt;In most clinical services, data and processes currently revolve around the completion and processing of clinical documents which are subsequently filed as part of a longitudinal prospective and immutable medical record. As such, a transactional document model is usually an appropriate reasonable and accurate abstraction of current processes of care.&lt;/p&gt;

&lt;h2 id=&quot;modelling-and-implementation&quot;&gt;Modelling and implementation&lt;/h2&gt;

&lt;p&gt;Tying a clinical model to its implementation is critical. A model cannot be designed without consideration of its implementation as it is possible to develop models of data and processes that would be impractical, cumbersome or inefficient to implement by developers. As such, close working between domain experts and software engineers is necessary to iteratively explore and improve a model to ensure it meets the demands of the domain and of practical software engineering considerations.&lt;/p&gt;

&lt;h3 id=&quot;avoiding-mismatches-between-a-model-and-real-life&quot;&gt;Avoiding mismatches between a model and real-life.&lt;/h3&gt;

&lt;p&gt;A mismatch between the model and real-life processes may cause confusion for users while models that are based on the fundamentals of a particular domain result in clinical systems that are intuitive to use with readily predictable functionality. A model should therefore abstract real-life processes and structures when possible so that end-users can easily understand what is happening within the software they are using and should not be surprised by unintended consequences. However, modelling real-life processes should not be an exact replica of an existing paper-based process but a careful abstraction designed to capture the essence of the process and to be more widely generalisable.&lt;/p&gt;

&lt;p&gt;While organisations, directorates, specialties, teams and even individual clinicians will have their own ways of working with disease and specialty specific data requirements, there is a danger in thinking that data modelling is simply getting a single group of domain experts in a room with a white-board. Instead, such work  is simply the start of a process in which these requirements are analysed and distilled and subsequently made as generic and widely applicable as possible and yet not made so generic that a subsequently developed model no longer meets the needs of the original functional requirements.&lt;/p&gt;</content><author><name></name></author><summary type="html">A model is an abstraction of the real-world distilling knowledge into core concepts and processes. A model is a careful balance between complexity and over-simplification with models that are too complex providing brittle abstractions which are poorly generalisable and models that are too simple not supporting all of the demands placed upon it in real-life clinical scenarios.</summary></entry><entry><title type="html">Clinical information system design: 1. The medical record</title><link href="https://www.wardle.org/cis-design/2017/05/01/medical-record.html" rel="alternate" type="text/html" title="Clinical information system design: 1. The medical record" /><published>2017-05-01T15:06:00+01:00</published><updated>2017-05-01T15:06:00+01:00</updated><id>https://www.wardle.org/cis-design/2017/05/01/medical-record</id><content type="html" xml:base="https://www.wardle.org/cis-design/2017/05/01/medical-record.html">&lt;blockquote&gt;
  &lt;p&gt;“You’re a victim of it or a triumph because of it. The human mind simply cannot carry all the information without error so the record becomes part of your practice.”&lt;/p&gt;

  &lt;p&gt;Dr Larry Weed, Internal Medicine Grand Rounds, 1971&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The medical record encompasses and complex, disparate and evolving collection of information relating to the day-to-day care of an individual patient. Aggregated, such data provide valuable information about cohorts of patients managed by a clinical service supporting clinical governance and the management of the that service.&lt;/p&gt;

&lt;h1 id=&quot;paper-medical-records&quot;&gt;Paper medical records&lt;/h1&gt;

&lt;p&gt;Paper medical records are expensive, poorly accessible and do not support team working effectively. They are frequently poorly structured and while they contain large amounts of data, it is difficult to use those data to support clinical care. Paper records must be tracked and within a large organisation and such records need to be made available to clinical and administrative staff in order to appropriately manage the patient. This is particularly difficult when a single patient may be under the care of multiple services which is particularly common for patients with chronic long-term health conditions.&lt;/p&gt;

&lt;h1 id=&quot;clinical-governance&quot;&gt;Clinical governance&lt;/h1&gt;
&lt;blockquote&gt;
  &lt;p&gt;``If you can’t audit a thing for quality, it means you do not have the means to produce quality’’.&lt;/p&gt;

  &lt;p&gt;Dr Larry Weed, Internal Medicine Grand Rounds, 1971&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Clinical governance is a framework in which we are accountable for continuously improving the quality of our services safeguarding high standards of care by creating an environment in which excellence in clinical care can flourish.&lt;/p&gt;

&lt;p&gt;An important part of clinical governance is in the use of data to understand both process and outcomes. A typical clinical department will know how many patients are waiting for an outpatient appointment but will not be able to understand why they are waiting or understand a patient’s eventual outcome because usually only administrative data are collected systematically.&lt;/p&gt;

&lt;p&gt;Many clinical teams will undertake service improvement projects or clinical audits, in which a clinician identifies a problem, undertakes to measure that problem by clinical audit, analyses the results and makes an intervention in order to solve that problem. For example, a typical clinical audit might be in the assessment of risk of deep vein thrombosis in inpatients in which a doctor will systematically analyse the paper notes of a group of inpatients, record and present the results and enact a change to improve those results with a plan to re-audit after that intervention. Such a methodology has been formalised by the &lt;a href=&quot;https://www.isixsigma.com/dictionary/dmaic/&quot;&gt;Six Sigma quality initiative&lt;/a&gt; in which five steps form a virtuous cycle of continuous improvement:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/cis_design/dmaic.png&quot; alt=&quot;Dmaic&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Such continuous improvement is possible with paper records, but it cannot be performed systematically and routinely, requires a large amount of manual intervention and the cycle of improvement is slow; the analysis of results and a plan of action to effect improvement may take months with no guarantees that any systematic assessment of those interventions will be performed.&lt;/p&gt;

&lt;p&gt;It therefore follows that the routine and systematic collection of process and clinical outcome data offers the potential to radically improve the efficiency of the continuous improvement lifecycle as long as sufficient consideration is given to the use of such data, the context of those data and an understanding of the processes in which those data are involved.&lt;/p&gt;

&lt;h1 id=&quot;electronic-medical-records&quot;&gt;Electronic medical records&lt;/h1&gt;

&lt;p&gt;Electronic medical records and workflow should model and abstract real-life processes but digitisation of paper processes should not be a slavish exact copy of existing processes, particularly when technology offers opportunities to improve the process of healthcare.&lt;/p&gt;

&lt;p&gt;Indeed, we are facing an explosion of clinical data created by health professionals, administrators and patients themselves and clinical information systems must consider how they will integrate and make such data useful in clinical practice. For example, this figure:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/cis_design/data_pipelines.png&quot; alt=&quot;Data Pipelines&quot; /&gt;&lt;/p&gt;

&lt;p&gt;shows how all of these sources of data are mutually dependent on one another. For example, what is the point in recording patient reported outcome measures if that data cannot be safely linked to a particular intervention or procedure and the co-morbidities and baseline assessments for that patient?&lt;/p&gt;

&lt;p&gt;The logical conclusion is that we will always have a multiplicity of systems and that in order to create robust clinical systems that outlive our current level of technological advancements, we have a responsibility to insist on open well-documented data standards, to integrate a well-developed clinical terminology, and foster collaboration, iterative development and embrace interoperability.&lt;/p&gt;</content><author><name></name></author><summary type="html">“You’re a victim of it or a triumph because of it. The human mind simply cannot carry all the information without error so the record becomes part of your practice.” Dr Larry Weed, Internal Medicine Grand Rounds, 1971</summary></entry><entry><title type="html">NHS hack days</title><link href="https://www.wardle.org/clinical-informatics/2017/05/01/nhs-hack-days.html" rel="alternate" type="text/html" title="NHS hack days" /><published>2017-05-01T08:57:36+01:00</published><updated>2017-05-01T08:57:36+01:00</updated><id>https://www.wardle.org/clinical-informatics/2017/05/01/nhs-hack-days</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/05/01/nhs-hack-days.html">&lt;p&gt;NHS hack days are weekends in which clinicians and software developers come together to try to develop information technology solutions for healthcare.&lt;/p&gt;

&lt;p&gt;There is a really good piece about them in the &lt;a href=&quot;http://www.bcs.org/content/conWebDoc/57646?utm_campaign=8245638_Health%20and%20care%20newsletter&amp;amp;utm_medium=email&amp;amp;utm_source=BCS%2C%20The%20Chartered%20Institute%20for%20IT&quot;&gt;BCS magazine by Dr Marcus Baw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I think they are a great idea and have attended two in Cardiff, most recently as one of the judges.&lt;/p&gt;

&lt;p&gt;However, I perceive the benefits to be principally about networking and fun, rather than successfully creating early working versions of products that are then rolled out into the NHS. How many great ideas have been rolled out?&lt;/p&gt;

&lt;p&gt;One of the problems is that projects essentially &lt;a href=&quot;http://nhshackday.com/resources/judging/&quot;&gt;start from nothing&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;an-open-platform&quot;&gt;An open platform&lt;/h4&gt;

&lt;p&gt;What would happen if, instead of starting with nothing, we provided teams with an open application programming interface (API) containing data, services and logic on which their solutions can run?&lt;/p&gt;

&lt;p&gt;This is the year in which this can truly become a reality, with standards such as FHIR and openEHR becoming adopted, we as a community need to start work on building “mocked services”.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/hackday/hackday-schematic.png&quot; alt=&quot;Hackday Schematic&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Most of these services should be provided via FHIR endpoints and provide mock data. When it comes to running in a live environment, as long as there is a FHIR service that provides those same endpoints, an application will need less work in order to make it a production-ready application.&lt;/p&gt;

&lt;h4 id=&quot;what-needs-to-be-done&quot;&gt;What needs to be done?&lt;/h4&gt;

&lt;p&gt;The diagram above is deliberately simple. There are lots of complexities and lots of work to do, but it is achievable.&lt;/p&gt;

&lt;p&gt;The very nice feature of FHIR is that services can provide one or many different resources. One might write a single service that only provides patient demographic service. As such, one can implement functionality piecemeal and incrementally.&lt;/p&gt;

&lt;p&gt;I think we need to prioritise a list of resources and services in order:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Patient demographic service (PDS). We could start with fake data and then switch to using &lt;a href=&quot;https://github.com/nhs-ciao/ciao-pds-fhir&quot;&gt;https://github.com/nhs-ciao/ciao-pds-fhir&lt;/a&gt; for production - the Ciao PDS is a FHIR facade around the real NHS Spine PDS - or a local organisational patient administration system.&lt;/li&gt;
  &lt;li&gt;Terminology services, including SNOMED-CT. I have already built an open-source SNOMED-CT REST service, but it isn’t currently FHIR compatible. However, the last time I looked the FHIR terminology standard didn’t support free-text search. I’d like to add support for other terminologies, such as LOINC, and provide FHIR-compatible end-points.&lt;/li&gt;
  &lt;li&gt;Laboratory information management system. See &lt;a href=&quot;https://www.hl7.org/fhir/diagnosticreport.html&quot;&gt;FHIR diagnostic report resource&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;A UK NHS reference data service. This should be straightforward so that we take the &lt;a href=&quot;https://isd.digital.nhs.uk/trud3/user/guest/group/0/home&quot;&gt;NHS ODS data from TRUD&lt;/a&gt; and provide as FHIR end-points (e.g. see &lt;a href=&quot;https://www.hl7.org/fhir/organization.html&quot;&gt;organisations&lt;/a&gt;). In Wales, mapping practitioners is much easier as there is a central active directory, but I gather this might not be the case in England.&lt;/li&gt;
  &lt;li&gt;Document storage and retrieval. While the &lt;a href=&quot;https://www.hl7.org/fhir/documents.html&quot;&gt;FHIR standard&lt;/a&gt; explains how to aggregate resources into a document, initially I’d suggest focusing on a simple &lt;a href=&quot;https://www.hl7.org/fhir/documentreference.html&quot;&gt;document reference store&lt;/a&gt; to serve documents created by legacy systems.&lt;/li&gt;
  &lt;li&gt;Patient eFlow / e-observations service. See &lt;a href=&quot;https://www.hl7.org/fhir/observation.html&quot;&gt;observation FHIR resource&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;With these few core components and lots of fake data, NHS hack days could start adding value quickly making it much more likely that any solutions can evolve to become truly useful within the NHS.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Mark&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">NHS hack days are weekends in which clinicians and software developers come together to try to develop information technology solutions for healthcare.</summary></entry><entry><title type="html">An open source SNOMED-CT implementation</title><link href="https://www.wardle.org/clinical-informatics/2017/04/29/rsterminology-part2.html" rel="alternate" type="text/html" title="An open source SNOMED-CT implementation" /><published>2017-04-29T20:10:02+01:00</published><updated>2017-04-29T20:10:02+01:00</updated><id>https://www.wardle.org/clinical-informatics/2017/04/29/rsterminology-part2</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/04/29/rsterminology-part2.html">&lt;p&gt;I have released an open-source SNOMED-CT terminology server called rsterminology. The source code is available from &lt;a href=&quot;https://github.com/wardle/rsterminology&quot;&gt;https://github.com/wardle/rsterminology&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It is software that is designed to be used by other software, rather than by end-users. I have shown videos of how I use this in an electronic patient record system in &lt;a href=&quot;/clinical-informatics/2017/04/28/importance-of-cohorts.html&quot;&gt;previous posts&lt;/a&gt;. It runs as a java microservice and is currently deployed within NHS Wales.&lt;/p&gt;

&lt;p&gt;I have installed a working version of this software on a very small virtual machine for demonstration purposes. It is not intended for production use please! I will monitor usage and add throttling or shut down the service if this is misused.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;For clinical users, I have just created (29th April) a quick SNOMED-CT search facility on a web page so that you can enter terms like “MS” or “DM” or “IHD” or “amlodipine” and see how autocomplete can work. The application is available &lt;a href=&quot;https://msdata.org.uk/apps/WebObjects/SnomedBrowser.woa/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here are some simple examples of how it can be used:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Fetch information about a single concept with a known identifier:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/concepts/24700007&quot;&gt;http://msdata.org.uk:8080/snomedct/concepts/24700007&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22msdata.org.uk%3A8080%2Fsnomedct%2Fconcepts%2F24700007%22%2C%22params%22%3A%7B%22query%22%3A%7B%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;This shows information about multiple sclerosis&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Get the synonyms for a given concept
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/concepts/24700007/descriptions&quot;&gt;http://msdata.org.uk:8080/snomedct/concepts/24700007/descriptions&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22msdata.org.uk%3A8080%2Fsnomedct%2Fconcepts%2F24700007%2Fdescriptions%22%2C%22params%22%3A%7B%22query%22%3A%7B%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Understand what a concept means, semantically, by virtue of subsumption (the IS-A relationships)
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/concepts/24700007/recursiveParents&quot;&gt;http://msdata.org.uk:8080/snomedct/concepts/24700007/recursiveParents&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22msdata.org.uk%3A8080%2Fsnomedct%2Fconcepts%2F24700007%2FrecursiveParents%22%2C%22params%22%3A%7B%22query%22%3A%7B%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;In this example you see that multiple sclerosis is a disease of the nervous system for example.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Perhaps the most powerful feature is free-text searching. You would not usually search the whole of SNOMED-CT but instead limit to particular sub-trees such as diagnoses, procedures, ethnic origins etc.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/search?s=msa&amp;amp;root=64572001&quot;&gt;http://msdata.org.uk:8080/snomedct/search?s=msa&amp;amp;root=64572001&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22msdata.org.uk%3A8080%2Fsnomedct%2Fsearch%3Fs%3Dmsa%26root%3D64572001%22%2C%22params%22%3A%7B%22query%22%3A%7B%22parameters_name_0%22%3A%22s%22%2C%22parameters_value_0%22%3A%22msa%22%2C%22parameters_name_1%22%3A%22root%22%2C%22parameters_value_1%22%3A%2264572001%22%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%22headers_name_0%22%3A%22s%22%2C%22headers_value_0%22%3A%22mult%20scler%22%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;Here we search for “MSA” but only in the “diagnoses” hierarchy - which has the concept identifier &lt;a href=&quot;http://msdata.org.uk:8080/snomedct/concepts/64572001&quot;&gt;64572001&lt;/a&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Let’s now let our users choose a country of birth. The root representing these concepts is &lt;a href=&quot;http://msdata.org.uk:8080/snomedct/concepts/370159000&quot;&gt;370159000&lt;/a&gt;.
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/search?root=370159000&amp;amp;s=eng&quot;&gt;http://msdata.org.uk:8080/snomedct/search?root=370159000&amp;amp;s=eng&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22http%3A%2F%2Fmsdata.org.uk%3A8080%2Fsnomedct%2Fsearch%3Froot%3D370159000%26s%3Deng%22%2C%22params%22%3A%7B%22query%22%3A%7B%22parameters_name_0%22%3A%22root%22%2C%22parameters_value_0%22%3A%22370159000%22%2C%22parameters_name_1%22%3A%22s%22%2C%22parameters_value_1%22%3A%22eng%22%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%22headers_name_0%22%3A%22s%22%2C%22headers_value_0%22%3A%22mult%20scler%22%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Finally, let’s parse a medication such as amlodipine 5mg od, which means amlodipine should be taken 5mg per day once daily:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://msdata.org.uk:8080/snomedct/dmd/parse?s=amlodipine 5mg od&quot;&gt;http://msdata.org.uk:8080/snomedct/dmd/parse?s=amlodipine 5mg od&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;https://apigee.com/console/others?req=%7B%22resource%22%3A%22msdata.org.uk%3A8080%2Fsnomedct%2Fdmd%2Fparse%3Fs%3Damlodipine%205mg%20od%22%2C%22params%22%3A%7B%22query%22%3A%7B%22parameters_name_0%22%3A%22s%22%2C%22parameters_value_0%22%3A%22amlodipine%205mg%20od%22%7D%2C%22template%22%3A%7B%7D%2C%22headers%22%3A%7B%22headers_name_0%22%3A%22s%22%2C%22headers_value_0%22%3A%22mult%20scler%22%7D%2C%22body%22%3A%7B%22attachmentFormat%22%3A%22mime%22%2C%22attachmentContentDisposition%22%3A%22form-data%22%7D%7D%2C%22verb%22%3A%22get%22%7D&quot;&gt;via Apigee console&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">I have released an open-source SNOMED-CT terminology server called rsterminology. The source code is available from https://github.com/wardle/rsterminology.</summary></entry><entry><title type="html">The importance of cohorts… and SNOMED-CT</title><link href="https://www.wardle.org/clinical-informatics/2017/04/28/importance-of-cohorts.html" rel="alternate" type="text/html" title="The importance of cohorts... and SNOMED-CT" /><published>2017-04-28T14:42:42+01:00</published><updated>2017-04-28T14:42:42+01:00</updated><id>https://www.wardle.org/clinical-informatics/2017/04/28/importance-of-cohorts</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/04/28/importance-of-cohorts.html">&lt;blockquote&gt;
  &lt;p&gt;A cohort is a group of patients who share a defining characteristic.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;In clinical research, researchers recruit a group of patients with a specific disease or a specific problem or who have received a specific intervention and then might monitor their progress in an observational study or monitor the effect on an intervention in an interventional study.&lt;/p&gt;

&lt;p&gt;In such studies, there is a systematic and dedicated collection of research data, usually to a high-standard using a pre-prepared schedule to avoid bias and to ensure that the appropriate data are acquired.&lt;/p&gt;

&lt;p&gt;One would think that it would be the same in routine healthcare but it is not. Most information is recorded as unstructured free-text and data collected are primarily used for administrative and managerial purposes. As I wrote in my &lt;a href=&quot;/clinical-informatics/2017/02/03/domain-driven-design.html&quot;&gt;domain-driven clinical design document&lt;/a&gt;, “As a result, we commonly know how many patients are seen in clinic, but have very little information as to why they are being seen or how they fare after  treatment.   Important  questions  such  as  ‘how  many  patients  with  Parkin-son’s disease do we care for?’, ‘what are the outcomes for patients after having a mastectomy?’ or ‘why are we seeing these patients in outpatient clinic?’ cannot be answered.”&lt;/p&gt;

&lt;p&gt;In fact, it is not just understanding and assessing our services and outcomes that require this information, but new technologies such as real-time analytics, algorithmic support and artificial intelligence needs prospectively-captured data recorded at the point–of-care.&lt;/p&gt;

&lt;p&gt;Some might point to “Hospital Episode Statistics” (HES) data as a way of understanding our patients but these data are woefully incomplete and inaccurate, do not usually include outpatient episodes of care with diagnostic entities recorded using a classification system (ICD-10) rather than a clinical terminology.&lt;/p&gt;

&lt;p&gt;The logical answer is to encourage the routine and systematic collection of structured data by clinicians for clinicians.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/Cppjedy-hMo&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h1 id=&quot;snomed-ct&quot;&gt;SNOMED-CT&lt;/h1&gt;

&lt;p&gt;SNOMED-CT is a large, modern and comprehensive terminology. In the above video, you can see me entering clinical diagnostic terms quickly and having them mapped to SNOMED-CT concepts in real-time. These concepts exist within a large and complex hierarchy of relationships which give algorithmic understanding. I use this in an electronic patient record system to identify patients with motor neurone disease; it will identify patients coded with a diagnosis of “progressive bulbar palsy” but the SNOMED-CT hierarchy can be navigated to work out algorithmically that this is a type of motor neurone disease.&lt;/p&gt;

&lt;p&gt;I have explained more about SNOMED-CT in Section 4.1 of my &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;domain-driven clinical design document&lt;/a&gt; and I have a paper in print in the &lt;a href=&quot;http://futurehospital.rcpjournal.org/content/current&quot;&gt;Future Hospital Journal&lt;/a&gt; which should be published in the next issue.&lt;/p&gt;

&lt;p&gt;SNOMED-CT isn’t limited to diagnostic concepts but includes terms for all range of concepts such as countries of birth, ethnic origins, procedures, medications, devices and even occupations. In addition, there are cross-maps which facilitate the mapping of a concept to and from other classification and terminology systems such as ICD-10 and OPCS.&lt;/p&gt;

&lt;p&gt;Here is an example of entering SNOMED-CT terms for medications:&lt;/p&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/6mvUThwm0j8&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h3 id=&quot;the-importance-of-implementation&quot;&gt;The importance of implementation&lt;/h3&gt;

&lt;p&gt;I have not been able to identify a working SNOMED-CT implementation in the UK before 2009, which means that, as far as I know, I actually had the first working system in clinical practice in the UK deployed in October 2009.&lt;/p&gt;

&lt;p&gt;I think there are five main issues when it comes to implementing SNOMED-CT:&lt;/p&gt;

&lt;h4 id=&quot;1-you-need-to-make-it-fast&quot;&gt;1. You need to make it fast.&lt;/h4&gt;

&lt;p&gt;If you have a look at the &lt;a href=&quot;http://browser.ihtsdotools.org/&quot;&gt;SNOMED International provided browser&lt;/a&gt;, you can navigate the SNOMED-CT hierarchy and get a feel for how it is structured. However, you will notice that search is very slow. While its size makes it comprehensive, it is technically challenging to implement in an effective way. It is possible to do so however as you can see from the screen recordings above.&lt;/p&gt;

&lt;h4 id=&quot;2-terminology-shouldnt-be-a-bolt-in-but-the-lingua-franca-in-your-data-models-and-your-software&quot;&gt;2. Terminology shouldn’t be a bolt-in, but the lingua franca in your data models and your software.&lt;/h4&gt;

&lt;p&gt;SNOMED-CT data entry does not need to only occur by allowing your users to search for a specific term. In my homegrown EPR, choosing locations on the face when recording botulinum toxin injections enters SNOMED-CT terms behind the scenes at the data level.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/patientcare-botox.jpg&quot; alt=&quot;Patientcare Botox&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;3-its-not-just-about-data-entry&quot;&gt;3. It’s not just about data entry.&lt;/h4&gt;

&lt;p&gt;If your terminology system is a bolt-on, then it is difficult to do anything clever with the data in real-time in order to support clinical care. If however you use SNOMED-CT to enable real-time analytics, then you can switch functionality on and off depending on clinical context. Here we analyse the patient record to generate a motor neurone disease summary and look for records of gastrostomy insertion simply by querying the patient’s data leveraging the semantic understanding that SNOMED-CT provides. &lt;img src=&quot;/images/mnd-dashboard.png&quot; alt=&quot;Mnd Dashboard&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;4-dont-start-thinking-about-subsets&quot;&gt;4. Don’t start thinking about subsets&lt;/h4&gt;

&lt;p&gt;There have been many working groups set up by different specialties to try to organise and curate subsets, limited lists of concepts from within SNOMED-CT and I strongly believe that this work is a waste of time.&lt;/p&gt;

&lt;p&gt;Instead, those people should be focused on improving SNOMED-CT as a whole, reviewing and deprecating concepts and ensuring that the concepts that are found in modern clinical practice are represented adequately.&lt;/p&gt;

&lt;p&gt;I believe that subsets have arisen due to fundamental shortcomings in the implementation of SNOMED-CT and I haven’t found a need that subsumption can’t solve by itself. Subsumption refers to the hierarchy of SNOMED-CT concepts that arises from IS-A relationships in that, “progressive bulbar palsy” IS-A type “motor neurone disease” or “bronchopneumonia” IS-A type of “respiratory disease”.&lt;/p&gt;

&lt;p&gt;Subsumption means that a decent implementation (and mine is one of them - see it at &lt;a href=&quot;https://github.com/mwardle/rsterminology&quot;&gt;https://github.com/wardle/rsterminology&lt;/a&gt;) can use those relationships to limit the choice of users so that they don’t choose “Occupation of physiotherapist” when making a “Referral to physiotherapist” because one is an occupation and one is a type of procedure.&lt;/p&gt;

&lt;h4 id=&quot;5-it-allows-you-to-study-cohorts&quot;&gt;5. It allows you to study cohorts…&lt;/h4&gt;

&lt;p&gt;And finally, the title of the article.&lt;/p&gt;

&lt;p&gt;Once you implement SNOMED-CT, you can start to do clever things like, show me how the patient in front of me is doing compared to all of my patients with this disease. You can see this for multiple sclerosis here, but it is possible to do for other disorders as well.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/edss-graph.jpg&quot; alt=&quot;Edss Graph&quot; /&gt;&lt;/p&gt;

&lt;p&gt;In fact, we can now do the same but sub-stratify to show how you compare to patients with a disease onset at a similar time of life or of the same gender.&lt;/p&gt;

&lt;p&gt;Defining cohorts means defining the characteristics of our patients, and SNOMED-CT is the solution. We can then stratify our patient groups according to those characteristics, whether it be their medical diagnoses, the procedures to which they have been through, their treatments current and past or any other characteristic.&lt;/p&gt;

&lt;p&gt;How can we make sense of patient reported outcome measures without understanding and stratifying our patients?&lt;/p&gt;

&lt;p&gt;Importantly, it doesn’t matter if someone has coded a diagnosis as a highly specific diagnosis as one can map this to a more generic high-level diagnosis and then use that perform aggregated analysis. So for example, if a clinician enters a very specific sub-type of “bronchiolitis”, then it doesn’t matter as we can subsequently aggregate using a higher-level concept and still identify the patient.&lt;/p&gt;

&lt;p&gt;Finally, how can we implement algorithmic analysis and artificial intelligence without an understand of these characteristics? Assessment of, for example, deteriorating renal function is critical on knowledge of recent diagnoses and medications given, and structured data is vital in supporting the research required in applying artificial intelligence in healthcare. The routine and systematic collection of SNOMED-CT forms a critical part of the foundation of any programme to implement such systems.&lt;/p&gt;</content><author><name></name></author><summary type="html">A cohort is a group of patients who share a defining characteristic.</summary></entry><entry><title type="html">Secure messaging… with patients in control of their data</title><link href="https://www.wardle.org/information-governance/2017/04/23/secure-messaging.html" rel="alternate" type="text/html" title="Secure messaging... with patients in control of their data" /><published>2017-04-23T09:20:28+01:00</published><updated>2017-04-23T09:20:28+01:00</updated><id>https://www.wardle.org/information-governance/2017/04/23/secure-messaging</id><content type="html" xml:base="https://www.wardle.org/information-governance/2017/04/23/secure-messaging.html">&lt;p&gt;Don’t we all want clinical information systems that support both clinicians and patients with clinical care?&lt;/p&gt;

&lt;p&gt;However, storing and using information relating to patients, whether for direct clinical care, audit and service evaluations or the secondary use of data is potentially fraught with difficulty. There are many examples such as the furore surrounding the &lt;a href=&quot;https://www.england.nhs.uk/ourwork/tsd/care-data/&quot;&gt;care.data&lt;/a&gt; NHS England project or the &lt;a href=&quot;https://www.digitalhealth.net/2017/03/ttp-gps-should-continue-patient-data-sharing/&quot;&gt;TPP SystmOne debacle&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;As I have &lt;a href=&quot;/clinical-informatics/2017/03/09/google-information.html&quot;&gt;mentioned before&lt;/a&gt;, “a single misstep in either the use of data, the perceived use of data or lack of clarity surrounding either has the potential to close down any programme, however innovative.”&lt;/p&gt;

&lt;h4 id=&quot;how-then-can-we-build-systems-that-are-open-and-transparent-and-yet-secure-by-design&quot;&gt;How then can we build systems that are open and transparent and yet secure-by-design?&lt;/h4&gt;

&lt;p&gt;For many, these goals are mutually exclusive. There are many proprietary, closed systems adopting &lt;em&gt;security-by-obscurity&lt;/em&gt; with data locked away  inaccessible to third parties and low levels of interoperability. Opening up access to such systems is, by definition, something that reduces security and potentially allows important personal patient-identifiable information to be accessed inappropriately.&lt;/p&gt;

&lt;h4 id=&quot;how-do-you-give-secure-and-safe-control-of-data-to-patients&quot;&gt;How do you give secure and safe control of data to patients?&lt;/h4&gt;

&lt;p&gt;I would argue that more harm comes to patients for lack of sharing of information than excessive sharing. So many of my patients are surprised that I have not and cannot see the results of investigations and clinical opinions from other centres. Others are surprised to know that that most of us have no automatic systems to let us know about results, relying instead on crude manual systems and the receipt of a report in order to act. Such processes are prone to error; what happens if I do not receive a written report for a scan?&lt;/p&gt;

&lt;p&gt;As I have written before, we need systems that allow medicine to &lt;a href=&quot;/information-governance/2017/03/19/information-governance.html&quot;&gt;run on rails&lt;/a&gt;. Therefore, we need to open-up data access but in a verifiably safe, transparent and secure way.&lt;/p&gt;

&lt;p&gt;The solution is to put the patient at the centre of what we do and to give them control over the use of their data.&lt;/p&gt;

&lt;p&gt;The challenge then becomes how to allow patients to either opt-in or opt-out of the use of their data for different purposes in an open way as well as view for themselves how their data is used. We need systems that record patient consent and log access to data.&lt;/p&gt;

&lt;h4 id=&quot;the-danger-of-information-leakage&quot;&gt;The danger of information leakage&lt;/h4&gt;

&lt;p&gt;It is quite straightforward to create electronic systems that record a patient’s preferences and choices in a database.&lt;/p&gt;

&lt;p&gt;For example, Mr Smith might record his interest in research generally and specifically sign up for projects relating to diabetes mellitus and HIV. However, such a naive implementation would result in &lt;em&gt;information leakage&lt;/em&gt; from this metadata. We might encrypt the database, secure the server and yet still be at risk of disclosing private medical information inadvertently as a result of how different pieces of data are linked.&lt;/p&gt;

&lt;h4 id=&quot;secure-messaging&quot;&gt;Secure messaging&lt;/h4&gt;

&lt;p&gt;Similar issues arise in secure patient messaging. My patients and their advocates want to be able to contact their healthcare teams electronically. The success of my existing &lt;a href=&quot;/clinical-informatics/2017/03/13/communication-is-key.html&quot;&gt;EPR messaging solution&lt;/a&gt; is evidence that my other clinical colleagues want ways of communicating among themselves but ensure that such messages become part of the wider health record.&lt;/p&gt;

&lt;p&gt;We receive emails frequently from patients and relatives, and yet these communications are not stored as part of the health record, are not easily shared with other members of the healthcare team and are inherently insecure. Providing systems to allow secure messaging between patients and their clinical services should be an easy-win for making our services more responsive to patients.&lt;/p&gt;

&lt;p&gt;However, I have previously put off adding patient access and secure messaging to my &lt;a href=&quot;https://msdata.org.uk&quot;&gt;internet hosted EPR portal&lt;/a&gt; as I simply do not want to risk the inadvertent leak of patient information, either through accidental or malicious means. It is not difficult to envisage a system much like we have for online banking in which messages are sent and received through their dedicated website or application but what if it got hacked?&lt;/p&gt;

&lt;p&gt;We can solve some of these issues with encryption but messaging and other forms of communication are also subject to &lt;em&gt;information leakage&lt;/em&gt; as a result of the metadata relating to those communications. The security services don’t necessarily need to know what messages contain to make important inferences about the relationships between people; they know the sender and the recipient.&lt;/p&gt;

&lt;p&gt;For example if a patient emails hiv-helpdesk@nhs.net then information leakage is taking place.&lt;/p&gt;

&lt;h4 id=&quot;openconsent&quot;&gt;openconsent&lt;/h4&gt;

&lt;p&gt;I’ve been working on a small proof-of-concept application that demonstrates a way of connecting patients and services without leaking information about those relationships. It is called &lt;a href=&quot;https://github.com/wardle/openconsent&quot;&gt;openconsent&lt;/a&gt; and the source code is available on &lt;a href=&quot;https://github.com/wardle/openconsent&quot;&gt;github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The following schematic shows the model:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/openconsent/openconsent-plan-updated.png&quot; alt=&quot;Openconsent Model Updated&quot; /&gt;&lt;/p&gt;

&lt;p&gt;This looks complicated, but it really isn’t. The blue boxes show completed functionality within the proof-of-concept project with greyed out boxes showing work that is yet to be done.&lt;/p&gt;

&lt;p&gt;More technical information can be found in my previous two blog posts &lt;a href=&quot;/information-governance/2017/04/05/pseudonymous-consent-poc.html&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;/information-governance/2017/04/08/pseudonymous-consent.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The answer comes down to using &lt;a href=&quot;/information-governance/2017/03/19/information-governance.html&quot;&gt;pseudonymous identifiers&lt;/a&gt; to create one-way links between different types of data. This results in a system the prevents data linkage unless you already know the patient details and have permission to access data. The technical underpinnings are described in my other posts so I won’t duplicate that discussion here.&lt;/p&gt;

&lt;p&gt;The same technology can be used to implement secure messaging. Messages sent between different people and organisations suffer from the same &lt;em&gt;information leakage&lt;/em&gt; problem as a result of the metadata required to send that message, even if the content of the message is encrypted.&lt;/p&gt;

&lt;p&gt;I am now working on adding secure message functionality using public-key cryptography to encrypt the content of messages and one-way pseudonymous identifiers to encrypt the metadata relating to those messages in a similar way to the obfuscation of opt-in and opt-out preferences within the consent model.&lt;/p&gt;

&lt;p&gt;For technical readers, a review of &lt;a href=&quot;https://github.com/wardle/openconsent/blob/master/src/test/java/com/eldrix/openconsent/model/TestConsent.java&quot;&gt;some of the unit tests&lt;/a&gt; will demonstrate the use of the framework.&lt;/p&gt;

&lt;p&gt;The immediate next steps for development are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;add secure messaging&lt;/li&gt;
  &lt;li&gt;complete the REST API (although much is already complete)&lt;/li&gt;
  &lt;li&gt;add OAUTH2 server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;em&gt;Mark&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">Don’t we all want clinical information systems that support both clinicians and patients with clinical care?</summary></entry><entry><title type="html">Pseudonymous consent- updated</title><link href="https://www.wardle.org/information-governance/2017/04/08/pseudonymous-consent.html" rel="alternate" type="text/html" title="Pseudonymous consent- updated" /><published>2017-04-08T09:22:28+01:00</published><updated>2017-04-08T09:22:28+01:00</updated><id>https://www.wardle.org/information-governance/2017/04/08/pseudonymous-consent</id><content type="html" xml:base="https://www.wardle.org/information-governance/2017/04/08/pseudonymous-consent.html">&lt;p&gt;I have updated my &lt;a href=&quot;https://github.com/wardle/openconsent&quot;&gt;proof-of-concept project on pseudonymous consent (see github)&lt;/a&gt;. To understand the background to this blog post, please see my &lt;a href=&quot;/information-governance/2017/04/05/pseudonymous-consent-poc.html&quot;&gt;earlier post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The design goals were&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Put patients in control of their information&lt;/li&gt;
  &lt;li&gt;Support explicit opt-in for research and opt-out for clinical services.&lt;/li&gt;
  &lt;li&gt;Avoid leaking confidential information while information is in transit or in storage.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The key to linking information in a safe way is the use of pseudonymous identifiers.&lt;/p&gt;

&lt;p&gt;The following schematic shows the updated model:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/openconsent/openconsent-model-updated.png&quot; alt=&quot;Openconsent Model Updated&quot; /&gt;&lt;/p&gt;

&lt;p&gt;A patient can create an account at any time using their email. Potentially, this account could be validated by some external agency such as the Government Gateway or new Gov.uk VERIFY services.&lt;/p&gt;

&lt;h4 id=&quot;opt-in-projects&quot;&gt;Opt-in projects&lt;/h4&gt;
&lt;p&gt;To join a research project, we create an explicit “Registration” for that patient. A research project creates an “Episode” and, given it is an explicit opt-in type of project, data access would only be permitted if explicit consent exists. This is straightforward but the design ensures that the system cannot re-identify the patient. A project needs to obtain patient identifiable information via a different route.&lt;/p&gt;

&lt;h4 id=&quot;opt-out-projects&quot;&gt;Opt-out projects&lt;/h4&gt;
&lt;p&gt;But what if I want to write a new “intelligent agent” that will monitor patients, look for patients on methotrexate and then check that they have had their required blood monitoring and that the blood results are within the ranges we expect? Methotrexate can cause blood dyscrasias and so needs regular blood monitoring. I want the care I provide to patients to &lt;a href=&quot;/information-governance/2017/03/19/information-governance.html&quot;&gt;run on rails&lt;/a&gt; so how can I introduce an application that accesses patients’ records in a safe way that is defensible in regard to information governance and the media? I really don’t wish to be on the front page of the newspapers!&lt;/p&gt;

&lt;p&gt;The steps are as so:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;To access patient data, the project (in this case my methotrexate monitoring application), registers an episode using the known patient identifiers. It is acting on behalf of an NHS organisation.&lt;/li&gt;
  &lt;li&gt;The “system” permits access to health data as this is an opt-out project, but data access is logged in a verifiable log.&lt;/li&gt;
  &lt;li&gt;A patient wishes to opt-out. They already have a validated account. It has been endorsed and linked to the authority that oversees the project.&lt;/li&gt;
  &lt;li&gt;The patient (and only the patient) can then look up all episodes relating to him or herself and explicitly opt-out by recording that information against the episode. This change would be logged in a verifiable log as previously discussed.&lt;/li&gt;
  &lt;li&gt;For the project, data access is no longer permitted.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The critical features are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;the avoidance of information leakage; making inferences about the patient simply as a result of the opt-in and opt-out of projects.&lt;/li&gt;
  &lt;li&gt;providing some degree of proof of trustworthiness in that the above logic could be distributed across multiple systems and we can vouch that patient information cannot be shared inappropriately and without being logged.&lt;/li&gt;
  &lt;li&gt;ensuring that even insiders cannot find out more information about a patient than they should. A project cannot find out what else the patient has consented for and likewise, an attacker of the patient accounts cannot find out to which projects the patient has opted-in or out of.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There is more work to do to make it a usable system, but the &lt;a href=&quot;https://github.com/wardle/openconsent/blob/master/src/test/java/com/eldrix/openconsent/model/TestPatients.java&quot;&gt;test harness&lt;/a&gt; demonstrates how it would work in practice.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Mark&lt;/em&gt;&lt;/p&gt;</content><author><name></name></author><summary type="html">I have updated my proof-of-concept project on pseudonymous consent (see github). To understand the background to this blog post, please see my earlier post.</summary></entry></feed>