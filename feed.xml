<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="http://jekyllrb.com" version="3.4.1">Jekyll</generator><link href="https://www.wardle.org/feed.xml" rel="self" type="application/atom+xml" /><link href="https://www.wardle.org/" rel="alternate" type="text/html" /><updated>2017-03-26T23:33:08+01:00</updated><id>https://www.wardle.org/</id><title type="html">Dr. Mark Wardle</title><subtitle>Consultant Neurologist, clinical informatics, entrepreneur and software developer.
</subtitle><entry><title type="html">PatientCare videos</title><link href="https://www.wardle.org/patientcare/2017/03/26/patientcare-old-videos.html" rel="alternate" type="text/html" title="PatientCare videos" /><published>2017-03-26T22:20:10+01:00</published><updated>2017-03-26T22:20:10+01:00</updated><id>https://www.wardle.org/patientcare/2017/03/26/patientcare-old-videos</id><content type="html" xml:base="https://www.wardle.org/patientcare/2017/03/26/patientcare-old-videos.html">&lt;p&gt;PatientCare is an electronic patient record (EPR) system that supports the care of over 20,000 patients and records over 3000 clinical encounters every month.&lt;/p&gt;

&lt;p&gt;I need to create some videos to demonstrate the range of functionality, but for now, I’ve included some old videos:&lt;/p&gt;

&lt;h4 id=&quot;the-motor-neurone-disease-module&quot;&gt;The motor neurone disease module&lt;/h4&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/DGvCzfhOoN0&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h4 id=&quot;clinic-based-ipad-application---healthcontact&quot;&gt;Clinic-based iPad application - HealthContact&lt;/h4&gt;
&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/GTo0fGHgoIA&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;We’ve trialled this in the outpatient clinic successfully. See &lt;a href=&quot;/about#iPadParkinson&quot;&gt;our published abstract&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;medication-entry&quot;&gt;Medication entry&lt;/h4&gt;

&lt;p&gt;These videos show the real-time mapping of user entered text to SNOMED-CT codes from the DM&amp;amp;D (dictionary of medicines and devices). You’ll notice the parsing of doses and the calculation of unchanged, started and stopped drugs. This makes it very quick in the outpatient clinic.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/3tRyjJk-71M&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/F2LSHpdCPvo&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;h4 id=&quot;iphone-application-for-communication&quot;&gt;iPhone application for communication&lt;/h4&gt;

&lt;p&gt;This was a simple iOS application that used the PatientCare EPR to handle user communication linked to the patient record. Unfortunately, I did not successfully convince my organisation to allow use of the wifi network, so I never deployed this.&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/1Lej6CMZZkY&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;</content><author><name></name></author><summary type="html">PatientCare is an electronic patient record (EPR) system that supports the care of over 20,000 patients and records over 3000 clinical encounters every month.</summary></entry><entry><title type="html">The importance of scope and framing in clinical design</title><link href="https://www.wardle.org/clinical-design/2017/03/23/scope-framing-clinical-design.html" rel="alternate" type="text/html" title="The importance of scope and framing in clinical design" /><published>2017-03-23T10:01:01+00:00</published><updated>2017-03-23T10:01:01+00:00</updated><id>https://www.wardle.org/clinical-design/2017/03/23/scope-framing-clinical-design</id><content type="html" xml:base="https://www.wardle.org/clinical-design/2017/03/23/scope-framing-clinical-design.html">&lt;h4 id=&quot;scope&quot;&gt;Scope&lt;/h4&gt;
&lt;p&gt;: defines the requirements and objectives and what will be delivered from a project.&lt;/p&gt;

&lt;h4 id=&quot;framing&quot;&gt;Framing&lt;/h4&gt;
&lt;p&gt;: a way of structuring or presenting a problem or issue&lt;/p&gt;

&lt;h1 id=&quot;clinical-design&quot;&gt;Clinical design&lt;/h1&gt;

&lt;p&gt;Scope and framing are critical in designing valuable health information technology.&lt;/p&gt;

&lt;p&gt;If you ask for a system to request laboratory tests electronically then that’s what you’ll get.&lt;/p&gt;

&lt;p&gt;If your initial framing of the problem is wrong, you won’t get a solution that solves the true user problem. The user problem is defined by the user, with support to understand and explore the problem in its entirety.&lt;/p&gt;

&lt;p&gt;When one creates a model - whether the model represents a train, a new building or software - there is a balance between over-complexity and over-simplification. As I wrote in my &lt;a href=&quot;/clinical-informatics/2017/02/03/domain-driven-design.html&quot;&gt;‘Domain-driven design’ document&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A model is an abstraction of the real-world distilling knowledge into core concepts and processes. A model is a careful balance between complexity and over- simplification with models that are too complex providing brittle abstractions which are poorly generalisable and models that are too simple not supporting all of the demands placed upon it in real-life clinical scenarios.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;See the &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;full document&lt;/a&gt;.&lt;/p&gt;

&lt;h1 id=&quot;user-centred-design&quot;&gt;User-centred design&lt;/h1&gt;

&lt;p&gt;Clinical information systems should solve real-life user problems. The user may be the patient, a health professional, a member of the laboratory staff or anyone else involved either directly or indirectly in patient care. Information systems are therefore inherently bound to process and workflow; to be more specific, the processes and workflows for that user or those groups of users.&lt;/p&gt;

&lt;p&gt;Our aim, always, is to create solutions that valuably support the care of patients but while we must not lose sight of this overarching aim, an effective information technology strategy must be explicit in how it will effect change to reach those aims. It is my opinion that we spend too little time understanding and refining the problems we are trying to solve resulting in poorly framed problems with ill-defined scope.&lt;/p&gt;

&lt;p&gt;As I wrote in my &lt;a href=&quot;/clinical-informatics/2017/03/15/once-for-wales.html&quot;&gt;“Once for Wales” speech&lt;/a&gt; in which I pitched for interoperability and data standards for NHS Wales:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;It is almost always the case that when building complex solutions to real-life problems, no-one person can conceive of all of the problems in one go. The natural solution to such complexity is to break-down a problem into manageable chunks. These chunks, much like “lego bricks”, can be joined together to form something greater than the sum of the parts. Importantly, it is more likely that we can vouch that a system is deterministic.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;We need to spend time working on the problems we are trying to solve and, break them apart into manageable chunks. Such a process requires skill and experience spanning knowledge of both the domain &lt;em&gt;and&lt;/em&gt; information technology together with a large amount of pragmatism to &lt;em&gt;get things done&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Importantly, core design principles such as using a &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;domain-driven design to build a layered architecture&lt;/a&gt; &lt;em&gt;protect&lt;/em&gt; those involved and force an approach which, while not impervious to changes in workflow and process, can more easily adapt to those changes than a design built as a monolith.&lt;/p&gt;

&lt;h1 id=&quot;test-requesting&quot;&gt;Test requesting&lt;/h1&gt;

&lt;p&gt;We currently have a working test requesting module within NHS Wales’ &lt;em&gt;Welsh Clinical Portal&lt;/em&gt;  (WCP) software for requesting laboratory tests. Essentially, one navigates to a patient’s record and selects REQUEST-&amp;gt;Laboratory test.&lt;/p&gt;

&lt;p&gt;On many levels, this is a workable solution to the problem as framed; “allow clinical staff to request laboratory investigations”. The design team, given that brief, designed a multi-page form that allowed that functionality. There are some minor glitches in the user interface, but behind-the-scenes, there is considerable work in dealing with different laboratories and actually performing the test request.&lt;/p&gt;

&lt;p&gt;The team should have visited a variety of care settings in which tests are requested and arrived at the following conclusions and questions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In many settings, laboratory tests are requested at the same time as other tests, such as radiology tests. Should the solution work in a more generic way to suit this workflow? How can the life of a clinician sitting in an outpatient clinic be improved? How can we create solutions that work better than the paper systems?&lt;/li&gt;
  &lt;li&gt;In many settings, a health professional is caring for a number of patients at the same time. How can we support the life of a junior doctor when trying to manage all of their inpatients?&lt;/li&gt;
  &lt;li&gt;In many situations, a request for a test is prompted by seeing a result. Should we support requesting tests from the “results” page when we see something that needs acting upon?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I’d like to crowdsource the framing of our problem. Are we only requesting laboratory investigations here or will the same system work for radiology? Can we expand our scope by reframing our problem? What about the future?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;What about routine monitoring according to protocol, for patients on certain drugs? My PatientCare EPR has this information, and given the right APIs, it could monitor those patients and request tests semi-autonomously. Would that functionality form part of the test requesting module within WCP or be separate?&lt;/li&gt;
  &lt;li&gt;We want to implement care plans that can be activated either manually or automatically for groups of patients. For example, a liver or renal failure patient may have a standard regime of investigations performed at regular intervals for monitoring. How can we support this?&lt;/li&gt;
  &lt;li&gt;What about other suggestions for clinical staff based on the information-at-hand, perhaps using machine-learning?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And what about interaction with other systems?&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;How is this going to work when the health professional filling in the request is going to take the blood and send it to the laboratory themselves? How is this going to work when the blood sampling will be done by a phlebotomist?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Finally what is in scope here? Do we need to design all of this functionality right away or can it evolve iteratively? Are there natural ‘fault lines’ which guide us as to &lt;em&gt;how&lt;/em&gt; to break this up into manageable parts?&lt;/p&gt;

&lt;h3 id=&quot;the-current-architecture-a-monolith&quot;&gt;The current architecture: a monolith&lt;/h3&gt;

&lt;p&gt;The current solution tries to be everything to everyone. It supports requesting tests for an arbitrary date, or set of dates. It is accessible only within the WCP application itself; its user interface, its functionality and the services it uses to implement its functionality are not available outside of WCP.&lt;/p&gt;

&lt;p&gt;Advocates of a monolithic approach say that standardisation of user interfaces makes it easier for users, reduces need for training and avoids duplication. I think this is wrong. I will vouch that you can operate an email client, whether it is web-based, runs on a mobile device or a desktop computer, from any vendor since email was invented because the nouns and verbs are the same. You might have a ‘draft email’ waiting to be ‘sent’, an ‘outbox’, an ‘inbox’, ‘folders’, ‘addresses’ in a ‘to’ field etc.&lt;/p&gt;

&lt;p&gt;Standardisation should be at the level of the nouns we use and the verbs we use to operate on those nouns. Thus we develop or adopt standardised information models in which our data and the processes/workflow in which we work are modelled.&lt;/p&gt;

&lt;p&gt;In addition, a monolithic or “product”-based approach makes it difficult to adapt to change. If we want to start work on extending the scope to include some of the functionality outlined above, we’ll need to make considerable changes to the WCP application. But we must be careful; every change that we make, every button we add, adds complexity to an already overwhelming user interface. To support every new feature, we are potentially extending our list of responsibilities and scope.&lt;/p&gt;

&lt;p&gt;‘Scope creep’ is the term used to describe continuous expansion of a project’s scope, usually a result of a variety of factors including poor initial framing of the problem to be solved, poor initial scoping and lack of flexibility and versatility in any resulting solution.&lt;/p&gt;

&lt;h3 id=&quot;adopting-a-service-orientated-architecture&quot;&gt;Adopting a service-orientated architecture&lt;/h3&gt;

&lt;p&gt;What if we pick apart the problem we are trying to solve?&lt;/p&gt;

&lt;p&gt;The diagram shows an abstract view of what we are trying to solve with test requesting:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/test-requesting.png&quot; alt=&quot;Test Requesting&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The test requesting service wraps an integration layer to provide generic test requesting. Whether a test is requested from a laboratory or another service, a separation between laboratory tests and other types of investigation tests is an artefact of implementation of health services; abstractly, a test request is a test request irrespective of which service will perform the test.&lt;/p&gt;

&lt;p&gt;However, it is likely that different tests will require different information to be provided at the time of request. Rather than embedding this important business logic in an application, this architecture forces an approach which explicitly recognises this business requirement and models it appropriately. There is an explicit design to ensure dynamic runtime configuration can modify the behaviour of the ‘system’.&lt;/p&gt;

&lt;p&gt;A formal contract between the responsibilities and scope of each component must be defined. While the scope of the overall solution may change to meet new requirements, a modular layered approach means that scope creep of individual components should be minimal.&lt;/p&gt;

&lt;p&gt;Applications, such as the web-based front-end application server or applications running on mobile devices, do not directly use a requesting service but use a service provided at the application layer. This layer provides further abstractions and while it will pass on requests to the test request service, it will have responsibility to apply business rules and domain logic such as audit trails and permissions. Those rules may be recorded declaratively in a rules engine rather than hard-coded at the domain layer allowing considerable flexibility in the future to add or change business rules to suit business need.&lt;/p&gt;

&lt;p&gt;The core requesting service does not need to have responsibility for domain logic, but has as its only responsibility to make the request against the end-point laboratory service(s).&lt;/p&gt;

&lt;h3 id=&quot;designing-for-the-future&quot;&gt;Designing for the future&lt;/h3&gt;

&lt;p&gt;With such an architecture, we have considerable flexibility to suit future requirements. If we wish to implement decision support, this could be performed at the domain logic layer and so decision support would be available to all client applications. At project initiation, we may have little or no decision support but our domain layer service must be designed with the hooks to enable this in the future. Over time, should more sophisticated decision support be available, client applications need not know - it is not their responsibility - because our systems are flexible enough to support this new functionality.&lt;/p&gt;

&lt;h3 id=&quot;the-final-design&quot;&gt;The final design&lt;/h3&gt;

&lt;p&gt;Our final design for redefining the user interface of test requesting within WCP becomes much simpler once there is an underlying robust architectural platform.&lt;/p&gt;

&lt;p&gt;It is my opinion that no single user interface will suit all use-cases. I am not concerned if there are multiple versions of the user interface as long as each version fits into the workflow and processes of a specific clinical domain. For instance, it is a long time since I was a junior doctor and I’d want to sit down with a team of them to make the most intuitive and best system to support their processes as possible. Our user interface and logic would be only a thin wrapper around our more complex architecture, but I’d envisage test requesting as part of a jobbing ward round, inpatient list and communication application. The nouns and verbs, the domain-model of the test requesting lifecycle would be standardised across the applications, not the user interface.&lt;/p&gt;

&lt;p&gt;Similarly, what I need in a busy outpatient clinic is a somewhat different. Now it may make sense to share a lot of user interface code, or indeed, with today’s responsive technologies, use the same user interface on the same platform. However, this would be a decision made for pragmatic business purposes if the shared user facing components were appropriate in those different clinical contexts. Such a decision would not be made because we are slavishly following a directive to create systems that are &lt;a href=&quot;/clinical-informatics/2017/03/15/once-for-wales.html&quot;&gt;“Once-for-Wales”&lt;/a&gt; but different devices may need different user interface components to suit their form factor and critically, the workflow in which they are to be used.&lt;/p&gt;

&lt;h3 id=&quot;conclusions&quot;&gt;Conclusions&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Frame the problem appropriately.&lt;/li&gt;
  &lt;li&gt;Get early involvement of groups of disparate domain, information technology and usability experts.&lt;/li&gt;
  &lt;li&gt;Extend the scope of the overall problem appropriately, designing in versatility to make solutions future-proof.&lt;/li&gt;
  &lt;li&gt;Limit scope and responsibility of individual components: work to break-up a problem and solution into manageable parts and enforce limitations on responsibility and scope for those component parts.&lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">Scope : defines the requirements and objectives and what will be delivered from a project.</summary></entry><entry><title type="html">An update on Merkle trees</title><link href="https://www.wardle.org/merkle-trees/2017/03/20/merkle-trees.html" rel="alternate" type="text/html" title="An update on Merkle trees" /><published>2017-03-20T06:53:48+00:00</published><updated>2017-03-20T06:53:48+00:00</updated><id>https://www.wardle.org/merkle-trees/2017/03/20/merkle-trees</id><content type="html" xml:base="https://www.wardle.org/merkle-trees/2017/03/20/merkle-trees.html">&lt;p&gt;In a previous post, I referenced Merkle trees in relation to the creation of a &lt;a href=&quot;/clinical-informatics/2017/03/09/google-information.html&quot;&gt;verifiable audit log&lt;/a&gt;. I broke a cardinal rule by discussing something for which I (then) had little knowledge.&lt;/p&gt;

&lt;p&gt;In my defence, the technology is rather clever so I don’t regret writing about it. However, I’ve had some help correcting my misunderstandings, so I thought it would be prudent to write down what I’ve learned. Any remaining errors are mine.&lt;/p&gt;

&lt;p&gt;An introductory article on this technology can be found on the &lt;a href=&quot;https://gdstechnology.blog.gov.uk/2015/10/13/guaranteeing-the-integrity-of-a-register/&quot;&gt;Government digital service’s site&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;merkle-trees-are-more-interesting-than-i-thought&quot;&gt;Merkle trees are more interesting than I thought&lt;/h4&gt;

&lt;p&gt;I originally wrote:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;It uses a nested tree design called Merkle trees but this is simply an optimisation to limit the computational requirements whenever data is added.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;It turns out that the use of Merkle trees is more than simply an optimisation of a hash list, although that is a very important benefit. The tree structure allows rapid proof that an entry is in a log by simply checking a branch of nodes (log(n)), rather than all nodes, and so the whole data structure can be verified without transferring the whole contents. This isn’t just an optimisation but permits validation of databases of potentially unbounded size.&lt;/p&gt;

&lt;p&gt;Similarly, this same can be said for replicating data in a distributed system. For example, if we are replicating data then we can start with the root of the tree (a list of one hash value) and compare the hashes. If there are no differences, the replication can stop, but otherwise, the process repeats with the child nodes in a recursive manner.&lt;/p&gt;

&lt;p&gt;In addition, a Merkle tree can be used as a key-value store. A ‘map’ in programmer’s terms is a data structure in which a value can be stored associated with a key; such a structure is called an associative array. Usually, to avoid having to iterate through all entries in order to find the one that matches the key, a hash function is used to assign a key into (hopefully) a unique bucket. This ‘hashmap’ makes it much quicker to find the value for a particular key.&lt;/p&gt;

&lt;p&gt;When creating an append-only log, a Merkle tree is “dense”; there are no gaps and the tree is populated conceptually from left-to-right at successive indices and each hash is a hash of the child nodes.&lt;/p&gt;

&lt;p&gt;In “map” mode, instead of adding entries left-to-right, entries are added using the hash as the index. Thus, the tree is populated piecemeal. Now if you’ve been reading carefully, you might then assume that a Merkle tree in map mode would be impossible to implement, as there would be 2^256 buckets and an enormous tree of hashes to calculate and validate. However, almost all entries are empty. This is why this type of Merkle tree is termed a “sparse Merkle tree”, and we can derive identical hashes for most branches within the tree. Thus, a practical implementation becomes feasible. In the same way as a verifiable log, a map may be synchronised by recursively comparing hashes from the top down, stopping prematurely at a level if the hashes match.&lt;/p&gt;

&lt;p&gt;It is possible to combine the benefits of a key-value store and log when one uses a verifiable log to store the transactions which occur on the key-value store, in a so-called “verifiable log-backed map”. A primer on these verifiable data structures is available as &lt;a href=&quot;https://github.com/google/trillian/blob/master/docs/VerifiableDataStructures.pdf&quot;&gt;part of Google’s own implementation, Trillian&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;deepmind-healths-verifiable-audit-log&quot;&gt;Deepmind Health’s verifiable audit log&lt;/h4&gt;

&lt;p&gt;I also wrote:&lt;/p&gt;
&lt;blockquote&gt;
  &lt;p&gt;Presently, I understand that this is designed to be a centralised record. Such centralisation means that potentially, whoever controls the ledger can change the ledger, simply by re-computing the hashes of the data to reflect the change. Computationally, this may be inefficient, but the verifiable log only becomes verifiable when the ledger is held by a trusted party. For the Deepmind collaboration, I would imagine the NHS organisation holds the ledger while Google writes to it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This isn’t quite true either.&lt;/p&gt;

&lt;p&gt;Importantly, the log itself can potentially be held by a third-party entity such as Deepmind but in order to be verifiable, the NHS organisation needs to monitor and periodically verify that no-one has tampered with the log. This means that there needs to be a trusted infrastructure which partner organisations may use; after all, a log helps our cause only if someone is actually checking it!&lt;/p&gt;

&lt;p&gt;But how does one prevent a ‘nefarious’ organisation making use of data inappropriately simply by not logging the data access in the first place? Such an issue emphasises the importance of non-technical factors in obtaining and maintaining trust in relation to sensitive information. Is it sufficient to perform code review and audit in order to create trust? Perhaps.&lt;/p&gt;

&lt;p&gt;I am interested in promoting technical mechanisms which can guarantee that data access is logged appropriately and I suspect that a combination of technical and non-technical measures will be required. I have discussed these measures in a &lt;a href=&quot;/information-governance/2017/03/19/information-governance.html&quot;&gt;previous blog post on information governance and innovation&lt;/a&gt;.&lt;/p&gt;</content><author><name></name></author><summary type="html">In a previous post, I referenced Merkle trees in relation to the creation of a verifiable audit log. I broke a cardinal rule by discussing something for which I (then) had little knowledge.</summary></entry><entry><title type="html">Balancing information governance and innovation in the NHS</title><link href="https://www.wardle.org/information-governance/2017/03/19/information-governance.html" rel="alternate" type="text/html" title="Balancing information governance and innovation in the NHS" /><published>2017-03-19T21:28:45+00:00</published><updated>2017-03-19T21:28:45+00:00</updated><id>https://www.wardle.org/information-governance/2017/03/19/information-governance</id><content type="html" xml:base="https://www.wardle.org/information-governance/2017/03/19/information-governance.html">&lt;p&gt;“Google’s Deepmind made inexcusable errors handling UK health data”, was reported on 16th March 2017 in an article published in the journal “Health and Technology” by Julia Powles and Hal Hodson. The article is &lt;a href=&quot;https://link.springer.com/article/10.1007%2Fs12553-017-0179-1?wt_mc=Affiliate.CommissionJunction.3.EPR1089.DeepLink&amp;amp;utm_medium=affiliate&amp;amp;utm_source=commission_junction&amp;amp;utm_campaign=3_nsn6445_deeplink&amp;amp;utm_content=deeplink&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I don’t agree with most of their conclusions and there are some factual errors. One example is that they suggest that because the application is used in the monitoring and treatment of acute kidney injury (AKI), that access to data on patients not identified as having AKI is inappropriate and should need explicit patient consent. The error here is obvious to a practising clinician: namely, one cannot monitor and identify AKI without monitoring the renal function of all patients. They suggest that patient data should be shared only for patients who have had a “gateway blood test that is prerequisite for AKI diagnosis”. Again, a renal function test (commonly called renal profile or urea and electrolytes), is one of the (if not the) most common blood test performed in hospitals and certainly none of my patients have escaped having this blood test! In addition, the absence of a previous test may itself be a signal potentially of use in future implementations of AKI alerts; an absence of data due to a process that deliberately withholds such data may result in systems to support clinical care that are less valuable than systems having access to a complete set of data.&lt;/p&gt;

&lt;p&gt;My blog isn’t the right place for a detailed review of this article, but one positive conclusion is that we need to have a conversation about health data and the potential benefits and pitfalls of sharing. I’ve referred to the &lt;a href=&quot;/clinical-informatics/2017/03/09/google-information.html&quot;&gt;care.data fiasco in a previous blog post&lt;/a&gt; and, speaking in my role as a full-time clinician, we need to avoid any further controversy.&lt;/p&gt;

&lt;h4 id=&quot;information-technology-in-healthcare&quot;&gt;Information technology in healthcare&lt;/h4&gt;

&lt;p&gt;Are there any benefits to the more effective use of information technology in healthcare?&lt;/p&gt;

&lt;p&gt;In my opinion, very much so!&lt;/p&gt;

&lt;p&gt;Many of my patients will give an account of information not being available at the point-of-care, complicating their care and resulting in frequently needless duplication of care. From a personal point of view, I worry about starting drugs such as methotrexate, azathioprine and mycophenolate as these treatments need ongoing monitoring with checks of renal function, blood counts and liver function on a regular basis. You may be surprised to hear that there are no systems in place to ensure that this core work is performed. I don’t even get results sent to me, so I have to remember to login to my computer and check the results manually. Will I make a mistake? Definitely. Many specialties which use these drugs more frequently than my own (neurology) have a dedicated specialist nurse whose responsibilities include monitoring these bloods. But why have a human doing a job that a computer can do more reliably?&lt;/p&gt;

&lt;h4 id=&quot;driving-off-road-vs-taking-the-train&quot;&gt;Driving off-road vs. taking the train&lt;/h4&gt;

&lt;p&gt;My day job is looking after patients with neurological diseases such as epilepsy, multiple sclerosis, Parkinson’s disease and motor neurone disease.&lt;/p&gt;

&lt;p&gt;I have frequently compared the process of my work to “driving off-road” - travelling in uncharted territory - in order to &lt;em&gt;get routine things done&lt;/em&gt;. Yet I find myself having to do this again and again when in fact, most of what I do should be a case of “taking the train” -  medical care on rails, automatic, on-time and efficient.&lt;/p&gt;

&lt;p&gt;My colleagues and I will always need to “go off-road”, but this should be the exception and not the rule; importantly, it frees us him to concentrate on those patients in which we truly do need to go into uncharted territory. We therefore need tools that bring together the right information at the right time, but make logical inferences from those data in order to improve patient care.&lt;/p&gt;

&lt;h4 id=&quot;technology-and-medicine-on-rails&quot;&gt;Technology and medicine-on-rails&lt;/h4&gt;

&lt;p&gt;In summary therefore, I want most of my work to happen “on rails” and, like many of my colleagues, have become frustrated with the agonisingly slow introduction of technology into healthcare. There are already many companies providing solutions in use in community and hospital services but I am worried. It is increasingly difficult for small and medium enterprises to enter the market and ongoing consolidation has resulted in  very large companies providing enterprise-wide organisational-bound applications such as Cerner’s Millenium and Epic. The &lt;a href=&quot;https://www.gov.uk/government/publications/using-information-technology-to-improve-the-nhs&quot;&gt;Wachter report&lt;/a&gt; is an excellent blueprint for the future of IT within NHS England but like others, I have noted that the approach has a focus on secondary care services, will result in a small number of very large vendors monopolising the market and doesn’t really cover community and social care.&lt;/p&gt;

&lt;p&gt;In addition, a focus on large single-supplier products for each organisation results in a national architecture that will have a natural tendency to use a health information exchange as outlined in “Section 5.14 Are there exceptions to the use of a layered architecture?” of my &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;Domain-driven design document for clinical information systems&lt;/a&gt;. Instead, I want an influx of new vendors, able to access data in a safe and controlled manner, using an open healthcare platform, to add value and benefit to clinicians and, by extension, to patients themselves.&lt;/p&gt;

&lt;p&gt;The logical questions that arise from this are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;how do we permit the adoption of small, well-defined applications within the health enterprise in a safe manner?&lt;/li&gt;
  &lt;li&gt;how do we permit access to large-scale aggregated health data in a way that benefits both individual patients for their direct care, and groups of patients at a population-level?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For example, if I wanted to introduce a small, well-defined application that would a) identify my patients on methotrexate, b) monitor their bloods for me, c) request their blood tests at the right time, if they haven’t already been done and d) alert me when they don’t have their bloods or they have a blood dyscrasia or some other change which merits my attention, then how could I do this within the current NHS infrastructure?&lt;/p&gt;

&lt;p&gt;For example, if a large commercial entity with expertise in artificial intelligence wanted to add value by monitoring a cohort of patients automatically to identify acute kidney injury, then how can this be done that satisfies both regulatory requirements and defends against public concern?&lt;/p&gt;

&lt;h1 id=&quot;the-case-for-pseudonymisation&quot;&gt;The case for pseudonymisation&lt;/h1&gt;

&lt;p&gt;Pseudonymisation is a process in which identifying data relating to an individual is replaced with an identifier. A commonly used method of pseudonymisation in healthcare is to create a pseudonym using a recipe based on fixed unchanging information about a patient such as a national identifier, a date of birth and country of birth. This uses an important property of a hash function to generate a fixed-length digest of a variably sized input; it is mathematically a one-way process. If you give me the input then I will always obtain the same digest &lt;em&gt;but&lt;/em&gt;, given a digest, I cannot determine the input.&lt;/p&gt;

&lt;p&gt;Now that last statement is not quite true, but brute-force attacks on hash functions are outside of the scope of this blog post, and, as long as one uses an additional salt (a fixed input parameter used together with other input parameters), one can avoid pre-calculated lookup table attacks.&lt;/p&gt;

&lt;p&gt;For example, one might generate a string such as “WIBBLE-111111111-2000-01-01-BIRMINGHAM” (a salt, the NHS number, the date of birth, the city of birth), and then use a SHA-256 hash to generate a unique digest.&lt;/p&gt;

&lt;p&gt;Pseudonymisation is different to anonymisation in which all identifiable information is removed. With pseudonymisation, it is possible to subsequently re-identify an individual. If an “attacker” knows the recipe for building the pseudonym and the salt, then they too can generate the pseudonym independently and subsequently use that pseudonym to link to data about that individual.&lt;/p&gt;

&lt;p&gt;Of course, if an “attacker” knows the recipe and the salt (together acting as a shared secret) and the individual’s information already, then one might assume that they are permitted to look-up information relating to that individual.&lt;/p&gt;

&lt;p&gt;Importantly, a different pseudonym can be calculated depending on what we are trying to achieve and to which other data our data need to be linked.&lt;/p&gt;

&lt;h4 id=&quot;healthcare-data-on-a-need-to-know-basis&quot;&gt;Healthcare data on a need-to-know basis&lt;/h4&gt;

&lt;p&gt;This figure demonstrates how a trusted pseudonymisation service can act as an intermediary between an NHS organisation and trusted third parties.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pseudonym-audit-log.png&quot; alt=&quot;Distributed consent&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here, the mobile devices are, without doubt, involved in direct clinical care. For that reason, they may directly interact with trusted organisational systems, supporting the management of patients. Importantly, they act as a proxy for a clinical user, supporting authentication and authorisation and then allowing that user to navigate health information as required.&lt;/p&gt;

&lt;p&gt;However, we would like to make use of health information to track patients with acute kidney injury. Instead of transferring patient identifiable information directly, we generate a project-specific pseudonym for this purpose only. With this identifier, a variety of information can be shared with the “open intermediary service”.&lt;/p&gt;

&lt;p&gt;Third-party analytics cannot re-identify patient data but can use health data to support clinical processes. Importantly, they can push information back to the trusted intermediary again linked to the individual using the provided pseudonym&lt;/p&gt;

&lt;p&gt;It is only within the NHS organisation that software can link the pseudonym-linked data with the identifiable information. The mobile application for example, can generate a pseudonym dynamically and request information from a third-party without giving away any information as to who or why the information is required. In addition, a third-party may generate an alert linked to a pseudonym and an NHS hosted service can re-identify the data.&lt;/p&gt;

&lt;p&gt;In addition, any third-party analytics must obtain healthcare data from the trusted open intermediary which contains only pseudonymised information. As part of a request for information, the intermediary may use a verifiable append-only audit log to record that the request has taken place. Once again, only software running within the NHS can identify to whom an audit log refers and thus, this information can be shared with both the patient and the host organisation. A third-party regulator can act to routinely verify that audit logs within the open intermediary service have not been subject to tampering.&lt;/p&gt;

&lt;h4 id=&quot;scaling&quot;&gt;Scaling&lt;/h4&gt;

&lt;p&gt;Using this system, it becomes possible for many different projects to use patient data without needing to handle patient identifiable information. Importantly, with a different pseudonym used for only a specific purpose, it is not possible for any individual project to link to data that has used a different pseudonym for a different purpose.&lt;/p&gt;

&lt;p&gt;If there were a centralised NHS-hosted service that recorded participation in projects, whether for direct clinical care or for research, then only that service could generate the required pseudonyms in order to re-identify or link data from disparate systems. In addition, patients themselves could control to which projects they are happy to share data.&lt;/p&gt;

&lt;p&gt;For my methotrexate monitoring application, we would need to identify all patients on methotrexate as well as look at their laboratory investigations. For this, we need medication histories as well as renal and liver function tests together with full blood count results. It is conceivable that this clinical application could easily be regarded as direct clinical care and so use a global pseudonym and share information with other applications. However, it would be possible to generate a project-specific pseudonym and use that together with the required clinical data for analysis by a third-party.&lt;/p&gt;

&lt;p&gt;Complex analytics may then occur inside or outside of the NHS services. Interestingly, if data are sourced from multiple organisations for the &lt;em&gt;same&lt;/em&gt; project, they can be safely linked together without needing the third-party to perform re-identification. Each organisation would send clinical data bound to the same project-specific pseudonym. As such, the pseudonymisation service can scale to support multiple organisations and allow inferences to be made across data from those organisations.&lt;/p&gt;

&lt;p&gt;This schematic shows what might happen for an AKI alerting service.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/pseudonym-aki-alert.png&quot; alt=&quot;AKI alerts&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here laboratory data are taken from source systems, given a project-specific pseudonym and send for third-party analytics. The pseudonymisation service stores the patient information as well as all of the pseudonyms in use as well as patient explicit consent for inclusion (for research) and withdrawal of consent (for direct care). A log is created.&lt;/p&gt;

&lt;p&gt;If there is an AKI alert, a third-party sends back an alert to an NHS hosted service. This identifies the patient using the pseudonymisation service, allowing further logging of the results of processing. Now re-identified, the alerting service may link to the EMR and any mobile devices in order to notify the team.&lt;/p&gt;

&lt;h4 id=&quot;centralised-vs-distributed-pseudonymisation&quot;&gt;Centralised vs. distributed pseudonymisation&lt;/h4&gt;

&lt;p&gt;Readers may be familiar with the &lt;a href=&quot;https://saildatabank.com&quot;&gt;SAIL databank&lt;/a&gt; hosted by Swansea University. It uses pseudonyms to perform data linkage from multiple sources. It is a centralised pseudonymisation system, performing analysis is much like working in a smoke cupboard as one needs to use a remote desktop to run R and one cannot take data out of the closed system. In addition, a lot of the datasets were rather old when I last used the service. It is working however, and has avoided many of the controversies commonly seen when aggregated medical data is used for non-direct care purposes. One takes a clinical set, splits it into two parts containing patient identity in one and non-identifying information in another. The two are linked with a unique identifier. A secure NHS service performs the pseudonymisation and the non-identifying information is placed in a data warehouse with the pseudonym. They use a global pseudonym which allows linkage to other source of clinical data.&lt;/p&gt;

&lt;p&gt;For example, we used SAIL to show that the &lt;a href=&quot;http://jnnp.bmj.com/content/85/10/e4.187&quot;&gt;main risk of a further attendance in the emergency unit for a patient with epilepsy was their social deprivation&lt;/a&gt;.(Lynch E, Lacey A, Pickrell W, et al FACTORS ASSOCIATED WITH EMERGENCY ATTENDANCES FOR EPILEPSY J Neurol Neurosurg Psychiatry 2014;85:e4.) by linking emergency unit attendances with general practitioner records and socio-economic indices.&lt;/p&gt;

&lt;p&gt;The problem is that this is offline analysis suitable for retrospective analyses. This will not support real-time analytics or any of the innovative supporting technologies that healthcare today needs.&lt;/p&gt;

&lt;p&gt;It is here that I need help. Is it possible to create a distributed system to track patient consent for research, to provide distributed pseudonymisation and verifiable audit logs of access to data? Ideally, we would not have a centralised pseudonymisation service or a centralised audit log, but distributed systems that both maintain patient confidentiality and provide assurances as to the use of data ideally replicated among trusted organisations.&lt;/p&gt;

&lt;p&gt;My final questions are therefore:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Can &lt;a href=&quot;/clinical-informatics/2017/03/09/google-information.html&quot;&gt;Merkle trees&lt;/a&gt; be used to implement a verifiable audit-log backed key-value store service within the NHS network to store consent and access logs?&lt;/li&gt;
  &lt;li&gt;Who will act as a guardian of this service and monitor the logs?&lt;/li&gt;
  &lt;li&gt;Could this act as a pseudonymiser service, logging the pseudonymisation and the upload of non-identifiable clinical data?&lt;/li&gt;
  &lt;li&gt;Similarly, when sending data back to the NHS, could this pseudonymiser service act to link data back into the patient’s record, logging such access?&lt;/li&gt;
  &lt;li&gt;Would such a service support the safe use and monitoring of third-party applications and data analytics?&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I would be grateful for your thoughts.&lt;/p&gt;

&lt;p&gt;Mark&lt;/p&gt;</content><author><name></name></author><summary type="html">“Google’s Deepmind made inexcusable errors handling UK health data”, was reported on 16th March 2017 in an article published in the journal “Health and Technology” by Julia Powles and Hal Hodson. The article is here.</summary></entry><entry><title type="html">What does ‘Once for Wales’ mean to me?</title><link href="https://www.wardle.org/clinical-informatics/2017/03/15/once-for-wales.html" rel="alternate" type="text/html" title="What does 'Once for Wales' mean to me?" /><published>2017-03-15T21:56:20+00:00</published><updated>2017-03-15T21:56:20+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/03/15/once-for-wales</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/03/15/once-for-wales.html">&lt;p&gt;The following blog post is from a debate that we will have at the Welsh Clinical Informatics Council tomorrow, 16th March 2017, in relation to the current healthcare IT strategy in Wales, which has at its core, the mantra ‘Once for Wales’. This has been variously interpreted, and historically has been used to focus on a single product, such as a single patient administration system for each of the health boards in Wales. I should like to re-define this to focus on the formation of a “platform” in Wales, built on open standards and interoperability. It is essentially a summary of my larger &lt;a href=&quot;https://www.dropbox.com/s/62sg71a19voxpts/cis_design.pdf?dl=0&quot;&gt;domain-driven design clinical information system document&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;once-for-wales&quot;&gt;Once for Wales&lt;/h1&gt;

&lt;p&gt;So what does “Once for Wales” mean to me?&lt;/p&gt;

&lt;p&gt;To answer that question, we have to decide what we’re trying to do and what are our priorities.&lt;/p&gt;

&lt;p&gt;To that, I would answer: to valuably support the care of patients within NHS Wales.&lt;/p&gt;

&lt;p&gt;The most important priority is the patient. It is not technology, it is not politics. We need to focus on the patient, and to support health professionals and those working in the NHS in looking after the patient.&lt;/p&gt;

&lt;p&gt;How then do we support health professionals and managers in their quest to effectively look after the patients under their care?&lt;/p&gt;

&lt;h1 id=&quot;1-plan-for-innovation&quot;&gt;1. Plan for innovation&lt;/h1&gt;

&lt;p&gt;I think the most important fact to recognise is that I don’t have all of the answers. I know some of them, but many remain unsolved. Before explaining what I do know, I’d rather talk about what I don’t know, and the importance of this. We need to build an infrastructure that explicitly recognises that we don’t have all of the answers, and therefore must support innovation. Such innovation may simply be incremental improvement of existing technology, but also must cope with and embrace the introduction of transformative and disruptive technologies.&lt;/p&gt;

&lt;p&gt;The logical conclusion from this is that we need to build solutions within NHS Wales that allow innovation to flourish, but in an environment that is safe and meets the range of regulations in which we all must work.&lt;/p&gt;

&lt;h1 id=&quot;2-build-a-service-orientated-architecture&quot;&gt;2. Build a service-orientated architecture&lt;/h1&gt;

&lt;p&gt;Many people are currently interpreting “Once for Wales” as only about national systems, one portal, one emergency unit system, one patient administration system. Indeed, currently when I ask colleagues about what NWIS is doing, they know only about the “Welsh Clinical Portal” product, and little else, and I am afraid, even with all of the improvements, it is usually accompanied by a sigh and a roll of the eyes, as their experience of this product has been difficult.&lt;/p&gt;

&lt;p&gt;NWIS has done a fantastic job on the most difficult of tasks, implementing many interoperable core services than underpin much of what exists within Welsh Clinical Portal. Some of the most difficult work has been not technical, but instead has been about managing change across multiple organisations, such as the harmonisation of laboratory systems across Wales. However, because that work and those services are not currently exposed, except to Welsh Clinical Portal, few know about these successes. In my opinion, NWIS has not done enough to broadcast those successes. The Welsh Results Reports Service, integrating results from laboratories and radiology across Wales is a terrific accomplishment and the teams should be congratulated.&lt;/p&gt;

&lt;p&gt;My second conclusion is that, much like Amazon, NWIS should have a strong focus on a service-orientated architecture, and critically, those services must be made available to all within NHS Wales as well as permitted third-parties.&lt;sup&gt;&lt;a href=&quot;#amazon&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;

&lt;p&gt;From an engineering perspective, this makes a lot of sense. It is almost always the case that when building complex solutions to real-life problems, no-one person can conceive of all of the problems in one go. The natural solution to such complexity is to break-down a problem into manageable chunks. These chunks, much like “lego bricks”, can be joined together to form something greater than the sum of the parts. Importantly, it is more likely that we can vouch that a system is deterministic. This means that the behaviour of a system is predictable. We’ve seen the consequences of non-deterministic systems when we heard about laboratory results being misreported to general practitioners. Healthcare information technology should be deterministic.&lt;/p&gt;

&lt;p&gt;It is really difficult to know a system is doing what it should be doing when it is really complicated, so breaking systems into smaller components that do one or two things really well makes a lot of sense. It also means we can take those components and test them systematically so that we can prove that they are doing what we think they should be doing.&lt;/p&gt;

&lt;p&gt;Importantly, it is at this service-layer that a mantra of “Once for Wales” really makes sense. It doesn’t make sense to manage user authentication and authorisation in multiple services. We want single-sign-on for users, and this process should be orchestrated by a national service that handles this for multiple applications. It may be that this service federates for a range of systems across health and social care, but nationally, it makes sense to be “Once for Wales”.&lt;/p&gt;

&lt;h1 id=&quot;3-an-extensible-platform-for-nhs-wales&quot;&gt;3. An extensible platform for NHS Wales&lt;/h1&gt;

&lt;p&gt;It is therefore not difficult to imagine the core services that are truly “Once for Wales”. User authentication, laboratory and radiology results, a document repository, a reference data service, a clinical data repository. In fact, all but the last of these services exist and when combined together, form a platform on which clinical applications can sit.&lt;/p&gt;

&lt;p&gt;It is important to note that services can “wrap” or federate other services to provide additional functionality. A service to provide laboratory results can connect to multiple laboratory systems and provide a unified view. Such integration does not require all laboratories to use the same product, but only expose their data in a standardised way with harmonisation of meaning, so that a full blood count in one system is equivalent to a full blood count in another system. There is a growing momentum towards a standards-based approach internationally.&lt;/p&gt;

&lt;p&gt;Similarly, the fact that the same patient administrative system is in use in multiple organisations does not magically mean that we can track the care of a patient on a single pathway that spans those organisations. The logical conclusion is that it is much more important to think about high-level clinical requirements than focus on products, and that services can be combined together to form an extensible platform.&lt;/p&gt;

&lt;h1 id=&quot;4-focus-on-standards-and-contracts&quot;&gt;4. Focus on standards and contracts&lt;/h1&gt;

&lt;p&gt;I’ve previously quipped that I don’t care what system is used in the emergency department. That isn’t quite true, but I’m not an expert on the workflows and processes that occur in an emergency unit. What I am interested in is knowing how many of my patients attend the emergency unit, how patients at the front-door flow through my hospital and which of them I need to see when I am on-call. I might want to set-up some automatic notification when one of my patients with motor neurone disease turns up in the department.&lt;/p&gt;

&lt;p&gt;As a relative outsider, it is logical for me to think about emergency unit systems as a black-box. I don’t need to see how it is implemented, what magic goes on under the lid, but I do need a report telling me what has happened to the patient. For me therefore, a “Once for Wales” approach means focusing on a “Once for Wales” contract  - a contract in which we give the high-level functional requirements and expect organisations and third-parties to meet those contracts.  Those contracts are a combination of clinical requirements (for instance, notifications) and technical - so that we know it will interoperate.&lt;/p&gt;

&lt;p&gt;Similarly, the same could be said for specialty-specific systems like nephrology or ophthalmology.&lt;/p&gt;

&lt;p&gt;Now it may make sense financially to procure a single EU product for use across Wales, it may not. As a member of council, I’m not sure I should have any say at all. To me, the EU system needs to interoperate with the workflow and processes within that organisation, and that is pretty much none of my business. All I want is for it to meet the requirements firstly of the EU staff, secondly, the organisation and its management, and thirdly, everyone else who looks after that patient.&lt;/p&gt;

&lt;p&gt;A focus on a single product stops us thinking about what really matters across NHS Wales. We should be discussing what is in that contract for any EU system and how it interoperates with our national platform. It is the contract that is “Once for Wales”, what data standards must be used and not the details of the implementation. It avoids a procurement like WCCIS, in which we still don’t have a handle on how this project will interoperate with the rest of our architecture.&lt;/p&gt;

&lt;p&gt;Such an approach then permits local innovation and for local organisations to work at their own pace and priorities. Our health boards are under a statutory obligation to provide healthcare for their populations. We must avoid a “my way or the highway” approach, but allow local developments in order to solve local problems that can work in harmony with the national platform. Importantly, we must then create an environment where we can pick up those local innovations and easily apply them in different organisations preventing wasteful duplication of effort, or the creation of functional silos which cannot interoperate with any other system.&lt;/p&gt;

&lt;h1 id=&quot;conclusions&quot;&gt;Conclusions&lt;/h1&gt;

&lt;p&gt;I therefore commend to council that we re-imagine “Once for Wales” to focus on a “platform” for Wales, a set of contracts, data standards and integration services. Welsh Clinical Portal should be but one window into our national platform. We need a national architecture board in which we define those core national services, define those data standards and evaluate products to ensure that are truly interoperable with our platform. The final piece of “Once for Wales” should be a plan to develop a workforce of informatics staff, clinical and technical, who can make healthcare IT in Wales the best in the world.&lt;/p&gt;

&lt;p&gt;Thank you,&lt;/p&gt;

&lt;p&gt;Mark Wardle&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;footnotes&quot;&gt;Footnotes&lt;/h1&gt;

&lt;p&gt;&lt;a name=&quot;amazon&quot;&gt;1&lt;/a&gt;: Jeff Bezos did the same for Amazon in 2002, with the &lt;a href=&quot;http://apievangelist.com/2012/01/12/the-secret-to-amazons-success-internal-apis/&quot;&gt;following commandments&lt;/a&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;All teams will henceforth expose their data and functionality through service interfaces.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Teams must communicate with each other through these interfaces.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;There will be no other form of inter-process communication allowed: no direct linking, no direct reads of another team’s data store, no shared-memory model, no back-doors whatsoever. The only communication allowed is via service interface calls over the network.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;It doesn’t matter what technology they use.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;All service interfaces, without exception, must be designed from the ground up to be externalizable. That is to say, the team must plan and design to be able to expose the interface to developers in the outside world. No exceptions.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;</content><author><name></name></author><summary type="html">The following blog post is from a debate that we will have at the Welsh Clinical Informatics Council tomorrow, 16th March 2017, in relation to the current healthcare IT strategy in Wales, which has at its core, the mantra ‘Once for Wales’. This has been variously interpreted, and historically has been used to focus on a single product, such as a single patient administration system for each of the health boards in Wales. I should like to re-define this to focus on the formation of a “platform” in Wales, built on open standards and interoperability. It is essentially a summary of my larger domain-driven design clinical information system document.</summary></entry><entry><title type="html">Communication is key</title><link href="https://www.wardle.org/clinical-informatics/2017/03/13/communication-is-key.html" rel="alternate" type="text/html" title="Communication is key" /><published>2017-03-13T13:50:00+00:00</published><updated>2017-03-13T13:50:00+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/03/13/communication-is-key</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/03/13/communication-is-key.html">&lt;p&gt;At least I’m consistent. I wrote this in a &lt;a href=&quot;http://www.bmj.com/rapid-response/2011/10/29/communication-key&quot;&gt;rapid response in the BMJ 14 years ago&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Dear Sir,&lt;/p&gt;

  &lt;p&gt;It is important to note that of the ten points raised, seven directly
relate to the communication of data between professionals and
organisations. This is no surprise; when a casenote is reviewed it is
entirely composed of communications. It is here that information
technology has its greatest benefit.&lt;/p&gt;

  &lt;p&gt;The NHS needs to create open, extensible standards for the
communications that make up a patients notes. Creating huge centralised
systems that meet today’s needs temporarily and adopt a “one size fits
all” will lead to NHS IT yet again
mimicking past IT disasters, such as the scrapped benefit cards payment
system, the new air traffic control centre at Swanwick and the national
insurance recording system.&lt;/p&gt;

  &lt;p&gt;Once national standards in messaging, authentication and
authorisation are created, individual system suppliers can connect their
disparate software, new and legacy data to create a seamles integrated
electronic patient record, that can slowly evolve, develop and keep pace
with developments - both in IT and medicine. It is important not to forget
the legacy data that is out there - in pathology, and even in radiology.
Bespoke radiology imaging software should be able to publish patient’s
data in a standard fashion allowing it to be integrated at the desktop.&lt;/p&gt;

  &lt;p&gt;Local systems can be designed with local users in mind, all operating
on the same secure network. When a local rapid access endoscopy unit wants
to start prospectively auditing requests, customising their own request
“messages” should be straightforward and seamless to those that use them.&lt;/p&gt;

  &lt;p&gt;In creating a working, living, evolving distributed electronic
patient record, it does not matter that data is stored by a number of
different organisations, and it does not matter when in fifteen years time
the NHS organisational landscape changes. Centralising data away from the
people who create it would be a mistake. A distributed flexible system is
easy to centralise in the future when needs change. The converse is not
true.&lt;/p&gt;

  &lt;p&gt;The recent Welsh publication “Informing healthcare” [1] talks about
created a Wales-wide electronic patient record. It goes on to ask whether
Welsh systems should be aligned to information standards in their English
counterparts. I find it difficult to believe that such a question even
needs to be asked, and it is this lack of far-sightedness that means the
millions of pounds will yet again be squandered on IT systems that its
users can’t use.&lt;/p&gt;

  &lt;p&gt;[1] “Informing Healthcare”. http://www.wales.nhs.uk/ihc&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The fact that most medical records are a type of communication is important. It is easy to assume that medical records are simply a record of medical practice, a longitudinal narrative of what happened to a patient. They are not. Medical records are a key enabler of healthcare. They are a piece of the workflow, a way of formulating and synthesising evidence and of marshalling opinion.&lt;/p&gt;

&lt;p&gt;When medical records are on paper, they are familiar and useful but have their own share of problems as well, as I discuss in Section 2.1 of my &lt;a href=&quot;/clinical-informatics/2017/02/03/domain-driven-design.html&quot;&gt;clinical design document&lt;/a&gt;. Their sheer weight gives me information about the burden of pathology or at least, medical care in or for an individual patient.&lt;/p&gt;

&lt;p&gt;Digitising the medical record is much more than simply copying the workflows and processes around paper records. When I added secure messaging to the PatientCare platform back in 2009, the teams looking after patients with a range of long-term health conditions embraced the ability to send messages linked securely to an electronic patient record with enthusiasm. They now record over 1000 messages every month; the graph below shows the adoption rate between 2010 and 2015.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/patientcare-messages.png&quot; alt=&quot;Secure messages sent per month&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;However, users soon asked for “carbon copy” functionality, asking to send a single message to multiple colleagues. I have still not heard a compelling justification to add this and have not done so. Users use messaging not just as a means of communication, but just as on paper, as a means of managing their work, the tasks to which they must attend. Conceptually therefore, a message written on a post-it note and put on my desk acts not only as a means of communicating something, but is usually asking me to &lt;em&gt;do something&lt;/em&gt;. In digitising this process, it is not appropriate to simply create a new form of electronic mail, but understand how paper is not just a form of communication.&lt;/p&gt;

&lt;p&gt;The commonest reason cited by users wanting a “carbon copy” function was to “let someone know” something. I would ask why this were needed, unless that person had to act on that information. If that indeed were necessary, then the user should forward the original message with an annotation. Otherwise, the message is clearly visible for all time within our electronic record and so would be visible to the person who “needed to know but not do anything about it”, when they did need to see it.&lt;/p&gt;

&lt;p&gt;Was I therefore wrong in 2003 when I said that “communication is the key”. I don’t think so: I was trying to push for interoperability and data standards, but medical records are much more than clinical correspondence and so digitisation must model not only the communication but the processes and workflow in which that communication sits.&lt;/p&gt;

&lt;p&gt;My final thought: medical records are all about people: the patient obviously, but also the team of health professionals who work to look after and support that patient. Digitisation of medical records that neglects either communication or the people involved will, in my opinion, be doomed to failure.&lt;/p&gt;</content><author><name></name></author><summary type="html">At least I’m consistent. I wrote this in a rapid response in the BMJ 14 years ago:</summary></entry><entry><title type="html">What would I do for healthcare if I were Google?</title><link href="https://www.wardle.org/clinical-informatics/2017/03/09/google-information.html" rel="alternate" type="text/html" title="What would I do for healthcare if I were Google?" /><published>2017-03-09T10:05:10+00:00</published><updated>2017-03-09T10:05:10+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/03/09/google-information</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/03/09/google-information.html">&lt;p&gt;Google was created in 1998 with a mission statement:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“to organise the world’s information and make it universally accessible and useful”.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I remember using Gopher for hypertext then switching to using the Mosaic web browser on Athena workstations on starting University in 1993, and then searching the web using Altavista in 1995. When Google was launched, most early internet users quickly switched for its fast and accurate search.&lt;/p&gt;

&lt;p&gt;Google has diversified since those halcyon days and the establishment of Alphabet as its parent company reflects this diversification into areas of technology such as self-driving cars, mobile devices including the Android platform, and even drone delivery.&lt;/p&gt;

&lt;p&gt;I understand that the original mission statement is under review and that is understandable when one considers the range and breadth of Alphabet’s interests.&lt;/p&gt;

&lt;p&gt;However, I think the mission statement is exactly right for healthcare and we need to, as a health community, emphasise the importance of making the right information available to clinical professionals and our patients at the right time.&lt;/p&gt;

&lt;h3 id=&quot;google-deepmind&quot;&gt;Google Deepmind&lt;/h3&gt;

&lt;p&gt;I am particularly interested in the current Deepmind push into healthcare. Indeed, &lt;a href=&quot;https://deepmind.com/applied/deepmind-health/&quot;&gt;Deepmind Health&lt;/a&gt; has announced collaborations with the Royal Free Hospital for the automatic computer-aided identification of acute kidney injury and with Moorfields Eye Hospital to use machine learning to automate the analysis of optical coherence tomography (OCT) scans.&lt;/p&gt;

&lt;p&gt;The application &lt;a href=&quot;https://deepmind.com/applied/deepmind-health/streams/&quot;&gt;Streams&lt;/a&gt; is an important push to deploy applications running on mobile devices within the NHS. I think this is the most important result of their work; the fact that it is screening for acute kidney injury is simply a good choice of proof-of-concept. The greatest benefit is proving that a mixed economy of mobile applications that interoperate using data standards and standard application programming interfaces is not only possible but provides important advantages over the usual monolithic application architecture that is usually employed within a single organisation.&lt;/p&gt;

&lt;p&gt;It is therefore logical that Deepmind Health should adopt, with vigour, the original mantra of Google at its own conception; to paraphrase:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;To organise healthcare and patient information and make it universally accessible and useful.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;when-i-see-a-patient&quot;&gt;When I see a patient…&lt;/h2&gt;

&lt;p&gt;As I quote in my &lt;a href=&quot;/clinical-informatics/2017/02/03/domain-driven-design.html&quot;&gt;clinical design document&lt;/a&gt; from the legendary Larry Weed, in relation to the medical record:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;“You’re a victim of it or a triumph because of it. The human mind simply cannot carry all the information without error so the record becomes part of your practice.”
Dr Larry Weed, Internal Medicine Grand Rounds, 1971&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I have an abstract view of the “medical record”. To me, a medical record is all of the information pertaining to a patient that is useful in looking after the patient. At the moment, most clinicians use a myriad of different sources of information: the patient him or herself, carers and relatives, paper records as well as electronic systems. Early computerisation of laboratory and radiology systems means that most clinicians use electronic systems for these types of results, but most use paper for the narrative record.&lt;/p&gt;

&lt;p&gt;In my own organisation, we have a range of systems, one of which I designed and built myself: the PatientCare suite of applications. In addition, we have access to a “digital health record” which is used to scan in paper records and make these available in a relatively unstructured way in an online browser. While this solves problems for medical records departments and allows a view of the record from multiple locations without having to track the notes, those data are not usable in any reasonable way: they are scanned documents.&lt;/p&gt;

&lt;p&gt;An important conclusion is that clinicians are faced with an information overload of unstructured information and few tools on hand to make sense of that information for a patient, or indeed group of patients, under their care.&lt;/p&gt;

&lt;h2 id=&quot;supporting-clinicians-with-intelligent-computing&quot;&gt;Supporting clinicians with intelligent computing&lt;/h2&gt;

&lt;p&gt;For a patient with motor neurone disease, I need to know several important pieces of information, including an indication of the severity of their disease, social circumstances, issues relating to feeding and weight, gastrostomy insertion and complications as well as their respiratory function. The key is that all of these pieces of information help me to help the patient at that point in time. It is no surprise that I extract all of this information in a disease-specific dashboard as part of my PatientCare electronic patient record:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/images/mnd-dashboard.png&quot; alt=&quot;MND dashboard&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Importantly, this information is extracted from a range of locations within the electronic record. The use of SNOMED CT means that computationally, we can simply ask “does this patient have a gastrostomy?”. In the logic to determine this, we look for procedures for the insertion and removal of gastrostomy and can therefore determine whether a gastrostomy is in-situ at any given time point. It doesn’t matter whether the gastrostomy is placed via a percutaneous endoscopic procedure (PEG), a radiologically-inserted gastrostomy (RIG) or even a surgical gastrostomy, because we can use the structures within SNOMED CT to make logical inferences about a type of procedure irrespective of how it is recorded.&lt;/p&gt;

&lt;p&gt;Intelligent computing can work effectively if there is a coded and structured medical record. Historically, healthcare computing has been about supporting the administration of healthcare facilities and not supporting healthcare. The natural conclusion is that we need to improve our prospective longitudinal recording of structured information within the healthcare record.&lt;/p&gt;

&lt;p&gt;I suspect that the Deepmind Streams project could be much more powerful if it had structured information about medications, changes to medications, procedures and diagnoses at its disposal, and not simply, as I suspect, the raw data from the laboratory about renal function. Indeed, I understand that currently the Streams project is more about proving the idea of integrating a third-party application within the NHS than any use of artificial intelligence at the moment.&lt;/p&gt;

&lt;h2 id=&quot;patient-data-information-governance-and-confidentiality&quot;&gt;Patient data, information governance and confidentiality&lt;/h2&gt;

&lt;p&gt;I find it easy to justify accessing a patient record. They are normally sitting in front of me at the time - I am their physician and I try to help them as much as I can. This is direct care.&lt;/p&gt;

&lt;p&gt;I also manage local services and so use aggregated data in order to ensure my services are working effectively and safely. We frequently anonymise these data for aggregation purposes, but as we’re managing a service, and I’m working for an NHS organisation, there is usually no difficulty in using these data.&lt;/p&gt;

&lt;p&gt;Finally, I am involved in research in which patients have explicitly consented for their data to be used as part of one of our observational, epidemiological or interventional studies. With explicit consent, I have no difficulty in using those data, usually anonymised, in the process of scientific research.&lt;/p&gt;

&lt;p&gt;Information governance is frequently used as a reason to prevent sharing of information between organisations but this is difficult to justify. The important thing is what patients themselves would think and, whether they think it is reasonable.&lt;/p&gt;

&lt;p&gt;Commercial for-profit companies providing or supporting health care are subject to the same information governance rules. However, the media and public view commercial entities with suspicion - what will happen to patient data? In most cases, such suspicion is not justified, but examples such as the furore surrounding the &lt;a href=&quot;https://www.england.nhs.uk/ourwork/tsd/care-data/&quot;&gt;care.data&lt;/a&gt; NHS England project demonstrate the issues at hand. A single misstep in either the use of data, the perceived use of data or lack of clarity surrounding either has the potential to close down any programme, however innovative. The debacle with care.data risks future projects to use patient data for the good. The Deepmind Streams project has already received &lt;a href=&quot;http://www.bbc.co.uk/news/technology-36783521&quot;&gt;criticism from patient and privacy groups&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;what-do-i-want-from-google-deepmind&quot;&gt;What do I want from Google Deepmind?&lt;/h2&gt;

&lt;p&gt;Artificial intelligence (AI) has amazing potential for taking information from disparate sources and present and analyse data in order to support clinical decision makers improving patient safety and care. Not only can we plan to bring together the right information at the right time, but make logical inferences from those data in order to improve patient care.&lt;/p&gt;

&lt;p&gt;We are at an early stage of development and so it is vital that there is a robust framework in which such technologies can be tested and evaluated in a safe way. It is vital that AI is introduced within a quality improvement framework. Controversial deployments of AI such as the &lt;a href=&quot;https://www.wsj.com/articles/hospital-stumbles-in-bid-to-teach-a-computer-to-treat-cancer-1488969011?mod=e2tw&quot;&gt;IBM Watson - MD Anderson cancer project&lt;/a&gt;, which have ended in failure risking public and media support for the introduction of AI into healthcare.&lt;/p&gt;

&lt;p&gt;I want the most valuable and useful data accessible to me when I am looking after patients. Google Deepmind should be asking the same question: how can they best obtain those data in order to progress their individual mission: “Solve intelligence, use it to make the world a better place”. The answers are the same:&lt;/p&gt;

&lt;h3 id=&quot;1-make-more-structured-data-available&quot;&gt;1. Make more structured data available&lt;/h3&gt;

&lt;p&gt;We need robust interoperability, a focus on data standards and real-time, clinician led structured data capture. The fantastic &lt;a href=&quot;http://www.interopen.org/interop-summit&quot;&gt;interoperability summit&lt;/a&gt; on 2-3rd March 2017 demonstrated an enthusiasm and energy from those interested in clinical informatics in the UK.&lt;/p&gt;

&lt;h4 id=&quot;build-an-effective-open-source-toolchain&quot;&gt;Build an effective open-source toolchain&lt;/h4&gt;

&lt;p&gt;However, there are difficulties: a lack of tools for system suppliers, small enterprises and mobile app developers in order to make most effective use of such standards. I have released an open-source SNOMED CT terminology server in order to try to make these tools commodity items; essentially the foundation on which more innovative clinical solutions can be built. We need more. We need disruptive technologies that will lower the barrier for entry for start-ups and innovators into the health application marketplace.&lt;/p&gt;

&lt;p&gt;I would argue that we as a community should be working on a complete open-source software stack that can provide core platform functionality including integration with existing systems such as those relating to patient administration, laboratory and radiology. However, at its core are the tools necessary to rapidly and effectively build solutions to create and store structured healthcare data. We need to make the building-blocks of health applications freely available so that innovation can add value to patients and health professionals. For too long, any startup enterprise has had to begin by building the roads on which they will drive, before they can build the vehicles of the future.&lt;/p&gt;

&lt;h4 id=&quot;build-an-interoperability-infrastructure&quot;&gt;Build an interoperability infrastructure&lt;/h4&gt;

&lt;p&gt;In regions where there is already large existing infrastructure, the platform could be installed as only an integration engine, bringing together information from existing services. As such, developers of user-facing applications and those who wish to support clinical care by using computer algorithms and artificial intelligence, can be used in any organisation in which the integration engine exists.  Much like an open-source version of Google’s &lt;a href=&quot;https://enterprise.google.com/search/products/gsa.html&quot;&gt;search appliances&lt;/a&gt; for health, we would be able to liberate data from proprietary systems, creating an open health data repository.&lt;/p&gt;

&lt;p&gt;I am building a FHIR-based microservice around our hospital PAS presently. The PAS provides a proprietary, non-standard SOAP API for client applications. I’m going to do the same for our regional enterprise master patient index; it simply needs to create a FHIR end-point and wrap a HL7 PDQ call. It is not difficult to do but there are many such systems around, all of which need integration.&lt;/p&gt;

&lt;h4 id=&quot;natural-language-processing&quot;&gt;Natural language processing&lt;/h4&gt;

&lt;p&gt;In addition, there is an enormous amount of data held in clinical correspondence. We have need to make this information more accessible; there are already commercial solutions that use natural language processing (NLP) to release structured data from narrative textual descriptions of clinical course and progress. Other divisions within Google have extensive experience of natural language processing, and these tools should be introduced and evaluated to make information accessible and useful. We need to start work on evaluating different technologies from different vendors, commercial and academic, in order to apply NLP in a healthcare arena.&lt;/p&gt;

&lt;p&gt;I have seen one commercial solution in action and it is squarely aimed at the identification of patient cohorts for specific research studies, and not for real-time use by clinicians in the day-to-day care of patients.&lt;/p&gt;

&lt;h3 id=&quot;2-ensure-a-robust-framework-in-place-to-satisfy-public-perceptions&quot;&gt;2. Ensure a robust framework in place to satisfy public perceptions&lt;/h3&gt;

&lt;p&gt;Importantly, it is not possible to freely liberate health data and make it openly available. Instead, there must be appropriate governance and data flow arrangements.&lt;/p&gt;

&lt;p&gt;There are several options. Firstly, Deepmind’s current course takes an organisation-by-organisation approach, starting with small projects and iterating and proving the concepts. This is sensible initially but successful roll-out to other organisations will be slow and tortuous. For each organisation, an organisation must adopt Deepmind as a data controller. I would argue that the resulting infrastructure may be patchy and difficult to integrate, particularly when trying to work across organisations.&lt;/p&gt;

&lt;p&gt;The second is to focus on explicitly consenting adults and create relationships with academic researchers, many of whom have large cohorts of well-phenotyped patients with outcome measures and highly-structured data. We have detailed longitudinal data on our patients with multiple sclerosis, Parkinson’s disease and motor neurone disease for example. There are parallels with the academic &lt;a href=&quot;http://www.nature.com/openresearch/about-open-access/open-data/&quot;&gt;open data movement&lt;/a&gt; in which researchers share their data, code and methods with others in order to support reproducible research.&lt;/p&gt;

&lt;p&gt;The third approach is to put the patient at the centre of the strategy. Apple’s ResearchKit has provided an open-source framework that makes it trivial to have patients sign-up and consent to research and complete patient-reported outcome measures. This is however, only a small piece of the jigsaw but it does conceptually mark a shift from targeting applications at health professionals to putting the patient at the centre.&lt;/p&gt;

&lt;p&gt;Apple’s ResearchKit does not solve where the resulting data is stored or how to make the most effective use of such data in a busy clinical environment or indeed, avoid the creation of multiple data silos. In addition, that framework is bound to the Apple device ecosystem, and my own experience has shown that we need a multimodal approach to data capture for patients: young patients with epilepsy may use their own devices but an elderly cohort of patients with Parkinson’s disease benefitted from supervised use of a shared tablet device actually in the outpatient clinic in our study. No framework should require devices from only a single vendor.&lt;/p&gt;

&lt;h4 id=&quot;distributed-patient-control&quot;&gt;Distributed patient control&lt;/h4&gt;

&lt;p&gt;As such, I would make a push for creating a distributed system to give individual patients control. In this, we design a framework in which patients control an account for recording explicit consent and logging health record access. This account provides pseudonymous data-linkage services so that one service cannot necessarily find out to what other services the patient is registered.&lt;/p&gt;

&lt;p&gt;For example, in the United Kingdom, all patients have an NHS number. When a patient attends a healthcare organisation in the UK, that organisation can independently generate a pseudonym based on a mathematical hash of the NHS number and their organisation- or service-specific salt and register for access against the patient’s own consent account. For NHS organisations, a record access log entry can be made using this unique identifier. For research projects, the log entry records the request which can be subsequently shown to the patient with information about the project encrypted using the patient’s own private key: explicit consent results in the recording of that consent in the ledger. The ledger then becomes a distributed transactional record of record access and consent. Before a research project accesses a record, it can make a request using the known patient data, generating its own hash of those data, and makes a request to the distributed consent ledger.&lt;/p&gt;

&lt;p&gt;As I write (9/3/17), Deepmind have announced work on a &lt;a href=&quot;https://deepmind.com/blog/trust-confidence-verifiable-data-audit/&quot;&gt;verifiable audit log&lt;/a&gt; in order to safely log the access and use of data, computing incremental hashes of the data as it is added so that it is possible to demonstrate, without doubt, that the data has not been changed at a later date point. It uses a nested tree design called Merkle trees but this is simply an optimisation to limit the computational requirements whenever data is added. Presently, I understand that this is designed to be a centralised record. Such centralisation means that potentially, whoever controls the ledger can change the ledger, simply by re-computing the hashes of the data to reflect the change. Computationally, this may be inefficient, but the verifiable log only becomes verifiable when the ledger is held by a trusted party. For the Deepmind collaboration, I would imagine the NHS organisation holds the ledger while Google writes to it. As such, the organisation can vouch that no log has been changed or deleted inappropriately.&lt;/p&gt;

&lt;p&gt;One key advantage of Merkle trees is in the ability to support the synchronisation of data by allowing the rapid identification of which data has been synchronised across a distributed system and which has not. Indeed, this approach is used in distributed databases such as &lt;a href=&quot;http://cassandra.apache.org&quot;&gt;Apache Cassandra&lt;/a&gt; to do just that.&lt;/p&gt;

&lt;p&gt;I would therefore suggest that we as an interoperability community work towards developing an open-source distributed consent and log framework which is held securely by multiple trusted health organisations. By distributing and synchronising such data among multiple trusted parties, one can offer guarantees that no single organisation can make a change without it being identified by all other organisations, or indeed by the patient or their proxy. A holder of the ledger, and there could be many, cannot themselves re-identify the patients within as a result of the use of multiple service-specific pseudonymous identifiers.&lt;/p&gt;

&lt;h4 id=&quot;a-worked-example&quot;&gt;A worked example&lt;/h4&gt;

&lt;p&gt;A public and private key is generated for the patient at registration. This private key is used to encrypt information within the patient’s ledger but is itself encrypted using the patient’s password. If the patient changes their access password, then only the private key need be re-encrypted with the new password.&lt;/p&gt;

&lt;p&gt;The summary care record is generated from the general practitioner’s record - these data, including core diagnoses and medications are recorded against a unique identifier computed as a hash of the NHS number, the year of birth and a salt unique to the national summary care record service for that patient : a service-specific salt. Within a distributed ledger, the description of this service, the core data and a link to an end-point service providing more data is encrypted using the patient’s public key. As such, using one of potentially many third-party services, a patient could login to their account, access the information in their ledger and importantly, see who has accessed their record and choose those organisations or services who may see their record. An organisation holding the ledger cannot identify the patients within, or indeed, determine to which services or research projects any logs relate. Individual services who can generate a pseudonym using the appropriate recipe can consult the ledger, write to that ledger and determine patient consent.&lt;/p&gt;

&lt;h3 id=&quot;3--encourage-a-mixed-economy-of-healthcare-applications&quot;&gt;3.  Encourage a mixed-economy of healthcare applications.&lt;/h3&gt;

&lt;p&gt;NHS organisations that tend to procure large-scale enterprise-wide clinical information systems such as Cerner’s Millennium platform or Epic limiting the scope for innovation and small to medium enterprises to interoperate and add value. The current environment within the NHS for small and medium sized enterprises is difficult. There are many procurement rules and even when an enterprise can sell to customers, deployment within the NHS is difficult. Hosting services within the NHS N3 are expensive and integrating with existing systems difficult. My final request for Google Deepmind, is to make the case for small, well-defined applications that interoperate with the wider data economy. Proving the effectiveness of this approach is difficult for those of us trying to create those applications.&lt;/p&gt;

&lt;p&gt;Junior doctors use WhatsApp on their own devices for communication within their teams in order to manage their workload. Why is it so difficult to contemplate creating a medical application that can provide similar functionality, but ensure that patient-relating communication is recorded against the patient’s record? We need to encourage and foster innovation within NHS information technology.&lt;/p&gt;

&lt;h2 id=&quot;final-thoughts&quot;&gt;Final thoughts&lt;/h2&gt;

&lt;p&gt;Of course, this isn’t really a manifesto only aimed at Google, although I think their priorities converge with ours in the interoperability community and ultimately with those for whom this is most important: patients. However, while there is considerable momentum behind open standards and interoperability, we need considerable backing from a range of disrupting influences to transform the healthcare information technology landscape. We also need to lower the barrier for entry for new startups and allow innovation to flourish, while maintaining information governance.&lt;/p&gt;</content><author><name></name></author><summary type="html">Google was created in 1998 with a mission statement:</summary></entry><entry><title type="html">Thinking about medications</title><link href="https://www.wardle.org/clinical-informatics/2017/03/08/thinking-about-medications.html" rel="alternate" type="text/html" title="Thinking about medications" /><published>2017-03-08T22:11:00+00:00</published><updated>2017-03-08T22:11:00+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/03/08/thinking-about-medications</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/03/08/thinking-about-medications.html">&lt;p&gt;Handling medications in clinical medicine is difficult. One of the easy wins for information technology in medicine is electronic prescribing. Our colleagues in general practice have had such systems for many years but those of us working in hospitals have lagged behind.&lt;/p&gt;

&lt;p&gt;In hospital, many of us prescribe on paper prescriptions – sometimes I use a proper prescription when I am starting a drug that is hospital-only – on most occasions, hospital doctors now write a GP communication note or simply add the recommendation to a clinical letter.&lt;/p&gt;

&lt;p&gt;There is tremendous value in electronic prescribing. It is one of the quick-wins for information technology in healthcare. There are many advantages.&lt;/p&gt;

&lt;h2 id=&quot;advantages-of-keeping-track-of-medications-electronically&quot;&gt;Advantages of keeping track of medications electronically&lt;/h2&gt;
&lt;p&gt;For me, keeping track of patients is critical. If you are non-medical, you might think that once you are under ongoing follow-up with a hospital doctor, there is some automatic system to let us know that you missed your last appointment or that your appointment was cancelled. In fact, you’d assume we also had a system to track your diagnoses so that we could potentially find all of our patients with, say, Parkinson’s disease. Sadly, this isn’t common; the way many clinicians handle this is to keep a spreadsheet with names and diagnoses or use something like the &lt;a href=&quot;http://www.theabn.org/what-we-do/bnsu.html&quot;&gt;British Neurological Surveillance Unit (BNSU)&lt;/a&gt; to report rare cases seen.&lt;/p&gt;

&lt;p&gt;I have a number of patients with a range of disorders on high-dose corticosteroids. Similarly, I have patients on other immunotherapy drugs (e.g. methotrexate) for whom I need to know that their blood monitoring is performed appropriately and that their blood indices are stable. For me, knowing a) who those patients are and b) when I last saw them, are critical for patient-safety. Too often, we avoid disaster simply through good fortune rather than any systematic approach to patient safety.&lt;/p&gt;

&lt;h2 id=&quot;the-patientcare-web-application&quot;&gt;The PatientCare web application&lt;/h2&gt;
&lt;p&gt;Here in Cardiff, we now use a patient electronic health record system to track all such diagnostic, treatment, interventional and outcome data. I have been developing it since 2009 and we now have over 15,000 patients recorded. It is accessed across Wales, mainly for neurological diseases, but we also track a number of rare diseases. Many of these rare disorders are rare individually, but collectively, they are common! There is a sophisticated access-control mechanism into which groups of patients and groups of clinical staff are linked by virtue of clinical services or research projects, so that access is limited to the group of patients to which you are responsible.&lt;/p&gt;

&lt;p&gt;Topics to be covered in future blog posts are information governance and a detailed guide on how to implement SNOMED-CT. Both difficult but both solved!&lt;/p&gt;

&lt;h2 id=&quot;electronic-prescribing-and-the-nhs&quot;&gt;Electronic prescribing and the NHS&lt;/h2&gt;
&lt;p&gt;To start thinking about electronic prescribing and recording of current and past medication, I suggest you first have a look at the &lt;a href=&quot;http://www.nhsbsa.nhs.uk/1121.aspx&quot;&gt;NHS DM&amp;amp;D (dictionary of medicines and devices)&lt;/a&gt; and a good look at the implementation guidance. There are a number of complexities. In hospital, we are encouraged to prescribe using generic drug names rather than branded drug names. This means that “prescribing” is a distinct process to dispensing. In hospital, the dispensing is performing by a nurse on the ward and a pharmacist for outpatients. Dispensing turns the generic prescription into an appropriate formulation. There are a number of issues to consider during dispensing including differences between formulations (actual medicinal products – AMPs) and issues of cost. Most hospital doctors are not used to selecting appropriate formulations and instead prescribe by generic drug name and dose. A general practitioner prescribes using products. For more information on this,&lt;/p&gt;

&lt;p&gt;For example, a hospital doctor may prescribe “ramipril 7.5mg od”. This means the patient should receive 7.5mg of this drug once per day.&lt;/p&gt;

&lt;p&gt;A general practitioner would prescribe “ramipril 5mg 1 tablet od” and “ramipril 2.5mg 1 tablet od”.&lt;/p&gt;

&lt;p&gt;There are additional complexities. For instance, some hospital clinicians wish to prescribe by product because of differences between formulations. For example, many of us who work with patients with epilepsy prescribe “epilim chrono”. While the active ingredient is sodium valproate, different products may vary in terms of bioavailability / absorption and so we would not want our patient’s medications to be swapped around – imagine a situation in which a generic formulation is substituted in a patient who is seizure free and the substitution results in a seizure when the patient is driving!&lt;/p&gt;

&lt;p&gt;Another issue is that medication data is already held in general practitioner systems and so it should be possible to import that list of current and past medications into hospital systems automatically. Having different implementations / models of electronic prescribing in primary and secondary care complicates such automatic import and export of medications.&lt;/p&gt;

&lt;p&gt;The NHS DM&amp;amp;D implementation guidance suggests a 3-step prescribing process for each drug. Step 1 is specifying the drug and the route (e.g. oral, inhaled, intravenous). Step 2 involves reviewing the rules for that specific drug and step 3 involves identifying appropriate sub-types of that medication for safe prescribing.&lt;/p&gt;

&lt;p&gt;As you might imagine, this is quite an involved and potentially time-consuming process. However, prescribing is potentially dangerous and should be performed with caution and careful consideration. However, different degrees of rigour are required depending on whether the electronic record is acting as a prescription or simply an electronic record of what the patient is taking or an advice letter.&lt;/p&gt;

&lt;p&gt;For example, in outpatient clinic, most clinicians will want to quickly record the current and past medications so that we can easily answer questions like “Which anticonvulsant therapies have we already tried in this patient?”. As such, the strict rigour of an electronic prescribing system can be relaxed depending on use-case.&lt;/p&gt;

&lt;h2 id=&quot;my-implementation&quot;&gt;My implementation&lt;/h2&gt;
&lt;p&gt;I’ve implemented a system to rapidly enter an existing list of medications and make changes to that medication list. See &lt;a href=&quot;https://youtu.be/3tRyjJk-71M&quot;&gt;PatientCare medication entry&lt;/a&gt; and &lt;a href=&quot;https://youtu.be/F2LSHpdCPvo&quot;&gt;Advanced medication entry&lt;/a&gt; for two video demonstrations. Here we enter a list of medications which are automatically mapped into SNOMED-CT DM&amp;amp;D drugs. There is a semantic understanding for drugs so that programmatically, we can tell whether a patient is on a thiazide diuretic or anticonvulsant – ie. this is not simply a free-text list! In addition, there is dose equivalence so that the system recognises that 1000mg is the same as 1g etc. Once the list is edited, the software calculates the changes – drugs changed, started, stopped etc. and then applies those changes to the longitudinal record of medication so that there is a complete list of all current and past medications that have been used.&lt;/p&gt;

&lt;p&gt;There is a balance of speed and efficiency for expert users and hand-holding for beginners. As such, there is an older pick-list based system which allows users to add drugs manually using drop-downs controls. However, expert users should be allowed to follow a more efficient process.&lt;/p&gt;

&lt;p&gt;This balance requires careful planning to ensure process safety and yet remain quick and usable in a busy outpatient clinic or in the assessment unit.&lt;/p&gt;

&lt;h2 id=&quot;the-result&quot;&gt;The result&lt;/h2&gt;
&lt;p&gt;Not only do I now record diagnostic information for my patients (SNOMED-CT coding) but it is now feasible to record all current and past treatments. Such information is very helpful for a range of conditions including Parkinson’s disease and epilepsy.&lt;/p&gt;

&lt;p&gt;In addition, because the software recognises that some drugs are unchanged, some have been stopped and some have been started, we can now automatically generate summary reports of encounters. This results in a huge reduction in administrative support requirements as rather than dictating medication changes, the computer does it automatically and in a well-presented summary.&lt;/p&gt;

&lt;p&gt;Mark&lt;/p&gt;</content><author><name></name></author><summary type="html">Handling medications in clinical medicine is difficult. One of the easy wins for information technology in medicine is electronic prescribing. Our colleagues in general practice have had such systems for many years but those of us working in hospitals have lagged behind.</summary></entry><entry><title type="html">SNOMED CT terminology server</title><link href="https://www.wardle.org/clinical-informatics/2017/03/08/rsterminology.html" rel="alternate" type="text/html" title="SNOMED CT terminology server" /><published>2017-03-08T21:39:10+00:00</published><updated>2017-03-08T21:39:10+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/03/08/rsterminology</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/03/08/rsterminology.html">&lt;p&gt;SNOMED CT is a modern, comprehensive medical terminology. For a detailed understanding of SNOMED CT, please see Chapter 4 in my &lt;a href=&quot;/clinical-informatics/2017/02/03/domain-driven-design.html&quot;&gt;clinical design document&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A key issue with SNOMED CT is an effective implementation. A good implementation, in my opinion, results in a system in which users do not actually know that they are using a terminology system at all. It should be intuitive and most importantly, usable from a clinical point-of-view.&lt;/p&gt;

&lt;p&gt;I have been using SNOMED CT since 2009. I think my electronic health record system (PatientCare) was the first deployed system in the UK to use SNOMED CT. SNOMED CT is the lingua franca within the system, internally the application and its business logic layers make ubiquitous use of SNOMED CT to make inferences about the care of a patient and to update the user interface to enable or disable functionality depending on the data entered so far.&lt;/p&gt;

&lt;p&gt;In my opinion, while one can bolt-on SNOMED CT as a terminology as an after-thought, it is preferable to design systems from the ground up to use and understand SNOMED CT.&lt;/p&gt;

&lt;p&gt;However, this doesn’t mean every system needs to re-implement SNOMED CT from the ground up. Indeed, I’d suggest using my new &lt;a href=&quot;https://github.com/wardle/rsterminology&quot;&gt;SNOMED CT terminology microservice&lt;/a&gt;. This provides very fast browse and search function as well as subsumption so that one can ask whether, given a diagnosis of progressive bulbar palsy, does a patient have a type of motor neurone disease, and get “yes” as the answer.&lt;/p&gt;

&lt;p&gt;It also provides an electronic prescribing function for real-time natural language parsing of prescriptions. There is more work to do, and I continue to work on new developments including round-tripping from VTMs to VMPs and AMPs with automatic dose calculations and support for automatic natural language post-coordination. Post-coordination is, in my opinion, in scope of the information model in which SNOMED CT terms are used, but automatic NLP-based post-coordination will make entry more intuitive for the user.&lt;/p&gt;</content><author><name></name></author><summary type="html">SNOMED CT is a modern, comprehensive medical terminology. For a detailed understanding of SNOMED CT, please see Chapter 4 in my clinical design document.</summary></entry><entry><title type="html">Supporting clinical care</title><link href="https://www.wardle.org/clinical-informatics/2017/02/18/supporting-clinic.html" rel="alternate" type="text/html" title="Supporting clinical care" /><published>2017-02-18T10:16:10+00:00</published><updated>2017-02-18T10:16:10+00:00</updated><id>https://www.wardle.org/clinical-informatics/2017/02/18/supporting-clinic</id><content type="html" xml:base="https://www.wardle.org/clinical-informatics/2017/02/18/supporting-clinic.html">&lt;p&gt;Clinical information systems should support patient care.&lt;/p&gt;

&lt;p&gt;We generate our clinical correspondence from data. This is, unusually, the opposite of what almost everyone else does when they get data from correspondence.&lt;/p&gt;

&lt;p&gt;I need to prepare a full video as a demonstration, but for now I will link to a series of tweets that demonstrate this functionality in the clinic.&lt;/p&gt;

&lt;p&gt;First, we give the &lt;a href=&quot;https://twitter.com/mwardle/status/833062051283136518&quot;&gt;patient an iPad in clinic&lt;/a&gt;. The same infrastructure and platform will be used for patient-held devices, but for now, we use clinic-based applications. This uses Apple’s ResearchKit software. However, the clever thing here is the use of SNOMED CT. The application derives semantic understanding of the patient’s problems from the electronic health record and queues the correct questionnaires for that patient.&lt;/p&gt;

&lt;p&gt;Additionally, if that patient has already indicated that they don’t wish to be involved in research, it won’t ask them again, but if not, they will be asked to consent for appropriate research projects.&lt;/p&gt;

&lt;p&gt;We used to use paper questionnaires. These were duly completed and then filed, not to be used. In addition, paper questionnaires can’t adapt to what has been entered. Here, the iPad applicaton &lt;a href=&quot;https://twitter.com/mwardle/status/833063821828878336&quot;&gt;queues a different set of questions based on the responses so far&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Finally, while there is excitement about the use of patient’s own devices and patient reported outcomes, what is the point of those data if they cannot be used for clinical care? Here, the data entered by the patient is immediately presented to the clinician and is &lt;a href=&quot;https://twitter.com/mwardle/status/833064699977691137&quot;&gt;automatically incorporated into the clinic letter&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You’ll notice in the last video, I also tweak the current medication list (mapped to the NHS dictionary of medicines and devices) and those changes appear in our correspondence automatically.&lt;/p&gt;</content><author><name></name></author><summary type="html">Clinical information systems should support patient care.</summary></entry></feed>